<!DOCTYPE html>
<html>
<head>
  <title>Mouse Drag Box</title>
  <style>
    canvas {
      border: 1px solid black;
    }
  </style>
  <script type="text/javascript">
    let canvas, context;
    let isDragging = false;
    let startX = 0, startY = 0, endX = 0, endY = 0;

    function init() {
      canvas = document.getElementById("myCanvas");
      context = canvas.getContext("2d");

      canvas.addEventListener("mousedown", mouseDown, false);
      canvas.addEventListener("mousemove", mouseMove, false);
      canvas.addEventListener("mouseup", mouseUp, false);
    }

    function mouseDown(e) {
      startX = e.offsetX;
      startY = e.offsetY;
      isDragging = true;
    }

    function mouseMove(e) {
      if (isDragging) {
        endX = e.offsetX;
        endY = e.offsetY;
        draw();
      }
    }

    function mouseUp(e) {
      endX = e.offsetX;
      endY = e.offsetY;
      isDragging = false;
      draw(); // 마지막으로 그리기
    }

    function draw() {
      context.clearRect(0, 0, canvas.width, canvas.height);

      // 파란색 테두리 박스 그리기
      context.strokeStyle = "blue";
      context.lineWidth = 2;
      context.strokeRect(
        Math.min(startX, endX),
        Math.min(startY, endY),
        Math.abs(endX - startX),
        Math.abs(endY - startY)
      );

      // 좌표 텍스트 표시
      context.font = "16pt Arial";
      context.fillStyle = "black";
      context.textAlign = "center";
      context.fillText(
        `(${startX},${startY})-(${endX},${endY}) down`,
        canvas.width / 2,
        canvas.height / 2
      );
    }
  </script>
</head>
<body onload="init()">
  <canvas id="myCanvas" width="500" height="500"></canvas>
</body>
</html>
