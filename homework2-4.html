<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¼ë‹¨í•©ê²© JLPT N2 (ê³ ë‚œë„ ê±°ê¾¸ë¡œ ì•”ê¸°)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700&family=Noto+Sans+JP:wght@400;700&display=swap');
        body { font-family: 'Noto Sans KR', 'Noto Sans JP', sans-serif; }
        .fade-in { animation: fadeIn 0.3s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .choice-btn { transition: all 0.2s; }
        .choice-btn:active { transform: scale(0.98); }
    </style>
</head>
<body class="bg-slate-100 min-h-screen flex items-center justify-center p-4">

    <div class="bg-white rounded-xl shadow-xl w-full max-w-md overflow-hidden border-t-4 border-indigo-600">
        <div id="header-bg" class="bg-indigo-600 p-5 text-white text-center transition-colors duration-500">
            <h1 id="header-title" class="text-2xl font-bold">JLPT N2 ê±°ê¾¸ë¡œ ì•”ê¸°</h1>
            <p id="header-desc" class="text-sm opacity-80 mt-1">ëœ»ì„ ë³´ê³  í•œì(ìœ ì‚¬ ê¸€ì ì£¼ì˜) ë§ì¶”ê¸°</p>
        </div>

        <div class="bg-gray-200 h-2 w-full">
            <div id="progress-bar" class="bg-indigo-400 h-2 transition-all duration-300" style="width: 0%"></div>
        </div>

        <div id="quiz-container" class="p-6 text-center fade-in">
            <div class="mb-8">
                <span class="text-xs font-bold text-gray-400 tracking-widest mb-2 block uppercase">Question <span id="current-index">1</span> / <span id="total-count">10</span></span>
                
                <h2 id="question-text" class="text-4xl font-bold text-gray-800 mb-3 min-h-[3.5rem] break-keep leading-tight flex items-center justify-center"></h2>
                
                <div class="flex justify-center items-center gap-2">
                    <span id="step-badge" class="bg-indigo-100 text-indigo-700 text-xs font-bold px-3 py-1 rounded-full">Step 1</span>
                    <p id="step-guide" class="text-gray-500 text-sm font-medium"></p>
                </div>
            </div>

            <div id="choices-container" class="grid grid-cols-2 gap-3 mb-4">
                </div>

            <div id="feedback" class="h-12 text-sm font-bold flex items-center justify-center whitespace-pre-line"></div>
        </div>

        <div id="result-container" class="hidden p-8 text-center fade-in">
            <div class="mb-6">
                <div class="inline-block p-4 rounded-full bg-indigo-50 mb-4">
                    <span class="text-4xl">ğŸ†</span>
                </div>
                <h2 class="text-3xl font-bold text-gray-800 mb-2">í•™ìŠµ ì™„ë£Œ!</h2>
                <p class="text-gray-600">ìˆ˜ê³ í•˜ì…¨ìŠµë‹ˆë‹¤.</p>
            </div>
            
            <p class="text-lg mb-8 text-gray-700 bg-gray-50 py-4 rounded-lg border border-gray-100">
                ìµœì¢… ì ìˆ˜: <span id="final-score" class="font-bold text-indigo-600 text-3xl align-middle ml-2"></span>
            </p>
            
            <div id="review-section" class="hidden mb-4">
                <button onclick="startReview()" class="w-full bg-orange-500 hover:bg-orange-600 text-white font-bold py-3 rounded-xl shadow-lg shadow-orange-200 transition-all transform hover:-translate-y-1 flex items-center justify-center gap-2">
                    <span>ğŸ”„</span> í‹€ë¦° ë‹¨ì–´ (<span id="wrong-count">0</span>ê°œ) ë³µìŠµí•˜ê¸°
                </button>
            </div>

            <button onclick="location.reload()" class="w-full bg-gray-800 hover:bg-gray-900 text-white font-bold py-3 rounded-xl shadow-lg transition-all transform hover:-translate-y-1">
                ì²˜ìŒë¶€í„° ë‹¤ì‹œ í•˜ê¸°
            </button>
        </div>
    </div>

    <script>
        // ğŸ”¥ ë°°ì¹˜ 1 (4~8p) ë°ì´í„° + AIê°€ ìƒì„±í•œ 'í•œ ê¸€ìê°€ ê²¹ì¹˜ëŠ”' ê³ ë‚œë„ ì˜¤ë‹µ í¬í•¨
// --- 9í˜ì´ì§€ ---
      

const vocabularyData = [
    { 
        kanji: "æ¹¿ã£ã½ã„", kana: "ã—ã‚ã£ã½ã„", meaning: ["ëˆ…ëˆ…í•˜ë‹¤", "ìŠµê¸° ì°¨ë‹¤"],
        wrongKanjis: ["ç”˜ã£ã½ã„", "è‹¦ã£ã½ã„", "è¾›ã£ã½ã„"], // 'ã£ã½ã„' ì¼ì¹˜, 4ì
        wrongKanas: ["ã¬ã‚Œã£ã½ã„", "ã˜ã‚ã£ã½ã„", "ã„ããŒã—ã„"] 
    },
    { 
        kanji: "é®®ã‚„ã‹ãª", kana: "ã‚ã–ã‚„ã‹ãª", meaning: ["ì„ ëª…í•œ"],
        wrongKanjis: ["çˆ½ã‚„ã‹ãª", "å’Œã‚„ã‹ãª", "ç©ã‚„ã‹ãª"], // 'ã‚„ã‹ãª' ì¼ì¹˜, 4ì
        wrongKanas: ["ã•ã•ã‚„ã‹ãª", "ã—ãªã‚„ã‹ãª", "ã“ã¾ã‚„ã‹ãª"]
    },
    { 
        kanji: "æ¥ç¶š", kana: "ã›ã¤ãã", meaning: ["ì ‘ì†"],
        wrongKanjis: ["æŒç¶š", "é€£ç¶š", "æ¥è¿‘"], // 2ì ì¼ì¹˜
        wrongKanas: ["ã›ã£ãã", "ãœã¤ãã", "ã›ã¤ã—ã‚‡ã"]
    },
    { 
        kanji: "æ´åŠ©", kana: "ãˆã‚“ã˜ã‚‡", meaning: ["ì›ì¡°"],
        wrongKanjis: ["å¿œæ´", "æ•‘åŠ©", "æ”¯æ´"], // 2ì ì¼ì¹˜
        wrongKanas: ["ãˆã‚“ã˜ã‚‡ã†", "ã‚ã‚“ã˜ã‚‡", "ãˆã‚“ã—ã‚‡"]
    },
    { 
        kanji: "é€†ã‚‰ã†", kana: "ã•ã‹ã‚‰ã†", meaning: ["ê±°ìŠ¤ë¥´ë‹¤", "ê±°ì—­í•˜ë‹¤"],
        wrongKanjis: ["ç–‘ã†", "å¤±ã†", "æˆ¦ã†"], // 'ã†' ì¼ì¹˜, 2ì
        wrongKanas: ["ãã‚ƒãã‚‰ã†", "ã‹ã‚ã‚‰ã†", "ã¨ã‚‰ã‚‰ã†"]
    },
    { 
        kanji: "ç ´ã‚Œã‚‹", kana: "ã‚„ã¶ã‚Œã‚‹", meaning: ["ì°¢ì–´ì§€ë‹¤", "íŒŒì†ë˜ë‹¤"],
        wrongKanjis: ["æ”¾ã‚Œã‚‹", "æ”¹ã‚Œã‚‹", "æ”»ã‚Œã‚‹"], // 'ã‚Œã‚‹' ì¼ì¹˜, 3ì
        wrongKanas: ["ãŸãŠã‚Œã‚‹", "ã‚ã°ã‚Œã‚‹", "ã“ã‚ã‚Œã‚‹"]
    },
    { 
        kanji: "æ‰¹åˆ¤", kana: "ã²ã¯ã‚“", meaning: ["ë¹„íŒ"],
        wrongKanjis: ["è©•åˆ¤", "åˆ¤æ–­", "æ‰¹è©•"], // 2ì ì¼ì¹˜
        wrongKanas: ["ã²ã°ã‚“", "ã³ã¯ã‚“", "ã²ã¯ã‚“(pitch)"]
    },
    { 
        kanji: "é¢å€’ãª", kana: "ã‚ã‚“ã©ã†ãª", meaning: ["ê·€ì°®ì€", "ì„±ê°€ì‹ "],
        wrongKanjis: ["æ­£ç›´ãª", "ç´ ç›´ãª", "å®‰ç›´ãª"], // 'ãª' ì¼ì¹˜, 3ì
        wrongKanas: ["ã‚ã‚“ã¨ã†ãª", "ã‚ã‚“ã©ãª", "ã¿ã©ã†ãª"]
    },
    { 
        kanji: "ç°¡æ½”ãª", kana: "ã‹ã‚“ã‘ã¤ãª", meaning: ["ê°„ê²°í•œ"],
        wrongKanjis: ["æ¸…æ½”ãª", "ç°¡ä¾¿ãª", "ç°¡ç´ ãª"], // 'ãª' ì¼ì¹˜, 3ì
        wrongKanas: ["ã‹ã‚“ã’ã¤ãª", "ã‘ã‚“ã‘ã¤ãª", "ã‹ã‚“ãã¤ãª"]
    },
    { 
        kanji: "æ‹›ã", kana: "ã¾ã­ã", meaning: ["ë¶€ë¥´ë‹¤", "ì´ˆëŒ€í•˜ë‹¤"],
        wrongKanjis: ["å¼•ã", "èã", "è§£ã"], // 'ã' ì¼ì¹˜, 2ì
        wrongKanas: ["ãŠã®ã", "ã²ã³ã", "ãªã¤ã"]
    },
    { 
        kanji: "å‚ç…§", kana: "ã•ã‚“ã—ã‚‡ã†", meaning: ["ì°¸ì¡°"],
        wrongKanjis: ["å‚è¦³", "ç…§æ˜", "å¯¾ç…§"], // 2ì ì¼ì¹˜
        wrongKanas: ["ã•ã‚“ã—ã‚‡", "ã–ã‚“ã—ã‚‡ã†", "ã•ã—ã‚‡ã†"]
    },
    { 
        kanji: "ä¿è¨¼", kana: "ã»ã—ã‚‡ã†", meaning: ["ë³´ì¦"],
        wrongKanjis: ["è¨¼æ˜", "ä¿è­·", "è¨¼æ‹ "], // 2ì ì¼ì¹˜
        wrongKanas: ["ã»ã†ã—ã‚‡ã†", "ã»ã—ã‚‡", "ã¼ã—ã‚‡ã†"]
    },
    { 
        kanji: "ç„¦ã’ã‚‹", kana: "ã“ã’ã‚‹", meaning: ["ëˆ‹ë‹¤", "íƒ€ë‹¤"],
        wrongKanjis: ["ç†±ã’ã‚‹", "é»’ã’ã‚‹", "é›†ã‚ã‚‹"], // 'ã’ã‚‹' ì¼ì¹˜, 3ì
        wrongKanas: ["ã“ã’ã‚‹(pitch)", "ã­ã’ã‚‹", "ã‚ã›ã‚‹"]
    },
    { 
        kanji: "å‚¬ã—", kana: "ã‚‚ã‚ˆãŠã—", meaning: ["í–‰ì‚¬", "ëª¨ì„"],
        wrongKanjis: ["çŸ¥ã‚‰ã›", "ç¤ºã—", "èªã‚Š"], // 'ã—' ì¼ì¹˜, 3ì
        wrongKanas: ["ã‚‚ã‚ˆã»ã—", "ãŠã‚ˆãŠã—", "ã¨ã‚‚ã—"]
    },
    { 
        kanji: "ç—‡çŠ¶", kana: "ã—ã‚‡ã†ã˜ã‚‡ã†", meaning: ["ì¦ìƒ"],
        wrongKanjis: ["ç—…çŠ¶", "æƒ…å‹¢", "è‹¦æƒ…"], // 2ì ì¼ì¹˜
        wrongKanas: ["ã—ã‚‡ã†ãã†", "ã˜ã‚‡ã†ã—ã‚‡ã†", "ãã†ã˜ã‚‡ã†"]
    },
    { 
        kanji: "åŠ£ã‚‹", kana: "ãŠã¨ã‚‹", meaning: ["ì—´ë“±í•˜ë‹¤", "ë’¤ë–¨ì–´ì§€ë‹¤"],
        wrongKanjis: ["å‹Ÿã‚‹", "å‹ã‚‹", "å¯„ã‚‹"], // 'ã‚‹' ì¼ì¹˜, 2ì
        wrongKanas: ["ãŠã©ã‚‹", "ãŠã“ã‚‹", "ã®ã“ã‚‹"]
    },
    { 
        kanji: "æ‹¾ã†", kana: "ã²ã‚ã†", meaning: ["ì¤ë‹¤"],
        wrongKanjis: ["ç¸«ã†", "è²·ã†", "ç‹‚ã†"], // 'ã†' ì¼ì¹˜, 2ì
        wrongKanas: ["ã­ã‚‰ã†", "ã‚‚ã‚‰ã†", "ãµã‹ã†"]
    },
    { 
        kanji: "è·é›¢", kana: "ãã‚‡ã‚Š", meaning: ["ê±°ë¦¬"],
        wrongKanjis: ["è¨˜æ†¶", "é›¢åˆ¥", "é›¢é™¸"], // 2ì ì¼ì¹˜
        wrongKanas: ["ãã‚‡ã„", "ãã‚‡ã—", "ãã‚‡ã‚Š"]
    },
    { 
        kanji: "æ··ä¹±", kana: "ã“ã‚“ã‚‰ã‚“", meaning: ["í˜¼ë€"],
        wrongKanjis: ["æ··é›‘", "ä¹±æš´", "éŒ¯ä¹±"], // 2ì ì¼ì¹˜
        wrongKanas: ["ã“ã‚‰ã‚“", "ã“ã‚“ã‚ã‚“", "ã”ã‚“ã‚‰ã‚“"]
    },
    { 
        kanji: "é©šã", kana: "ãŠã©ã‚ã", meaning: ["ë†€ë¼ë‹¤"],
        wrongKanjis: ["å‹•ã", "å‹•ã‹ã™", "åƒã"], // 'ã' ì¼ì¹˜, 2ì
        wrongKanas: ["ãŠã©ã‚ã‹ã™", "ã„ãŸã‚ã‚‹", "ã‚ã‚‰ã†"]
    },
    { 
        kanji: "ç¡¬è²¨", kana: "ã“ã†ã‹", meaning: ["ë™ì „", "ì£¼í™”"],
        wrongKanjis: ["é‡‘è²¨", "éŠ€è²¨", "è²¨ç‰©"], // 2ì ì¼ì¹˜
        wrongKanas: ["ã”ã†ã‹", "ã“ã†ãŒ", "ã‹ã“ã†"]
    },
    { 
        kanji: "å¿«ã", kana: "ã“ã“ã‚ã‚ˆã", meaning: ["í”ì¾Œíˆ"],
        wrongKanjis: ["æ­£ã—ã", "å³ã—ã", "æ¿€ã—ã"], // 'ã' ì¼ì¹˜, 3ì
        wrongKanas: ["ã“ã“ã‚ã‚ã‚‹ã", "ã“ã“ã‚ãã", "ã“ã“ã‚ã¥ã‚ˆã"]
    },
    { 
        kanji: "å‡ã‚‹", kana: "ã“ãŠã‚‹", meaning: ["ì–¼ë‹¤"],
        wrongKanjis: ["ç‡ƒã‚‹", "å¯„ã‚‹", "å–ã‚‹"], // 'ã‚‹' ì¼ì¹˜, 2ì
        wrongKanas: ["ã“ãŠã‚‰ã™", "ã¨ãŠã‚‹", "ã‹ãŠã‚‹"]
    },
    { 
        kanji: "è£½é€ ", kana: "ã›ã„ãã†", meaning: ["ì œì¡°"],
        wrongKanjis: ["æ§‹é€ ", "æ”¹é€ ", "åˆ¶å‹•"], // 2ì ì¼ì¹˜
        wrongKanas: ["ã›ã„ã", "ã›ã„ã", "ãœã„ãã†"]
    },
    { 
        kanji: "è¨è«–", kana: "ã¨ã†ã‚ã‚“", meaning: ["í† ë¡ "],
        wrongKanjis: ["è­°è«–", "çµè«–", "ç†è«–"], // 2ì ì¼ì¹˜
        wrongKanas: ["ã¨ã‚ã‚“", "ã©ã†ã‚ã‚“", "ã¨ã†ã‚ã†"]
    },
    { 
        kanji: "é †èª¿ãª", kana: "ã˜ã‚…ã‚“ã¡ã‚‡ã†ãª", meaning: ["ìˆœì¡°ë¡œìš´"],
        wrongKanjis: ["é †åºãª", "é †ä½ãª", "èª¿å’Œãª"], // 'ãª' ì¼ì¹˜, 3ì
        wrongKanas: ["ã˜ã‚…ã‚“ã˜ã‚‡ã†ãª", "ã˜ã‚…ã†ã¡ã‚‡ã†ãª", "ã˜ã‚‡ã†ã˜ã‚…ã‚“ãª"]
    },
    { 
        kanji: "æ•‘ã†", kana: "ã™ãã†", meaning: ["êµ¬ì¡°í•˜ë‹¤"],
        wrongKanjis: ["ç¸«ã†", "ç‹‚ã†", "è² ã†"], // 'ã†' ì¼ì¹˜, 2ì
        wrongKanas: ["ã™ã‹ã†", "ã™ã“ã†", "ã¤ãã†"]
    },
    { 
        kanji: "è¬›å¸«", kana: "ã“ã†ã—", meaning: ["ê°•ì‚¬"],
        wrongKanjis: ["è¬›ç¾©", "æ•™å“¡", "æŠ€è¡“å£«"], // 2ì ì¼ì¹˜
        wrongKanas: ["ã“ã†ã˜", "ãã‚‡ã†ã—", "ã”ã†ã—"]
    },
    { 
        kanji: "äº‰ã†", kana: "ã‚ã‚‰ãã†", meaning: ["ë‹¤íˆ¬ë‹¤"],
        wrongKanjis: ["æ€ã†", "è²·ã†", "ä¼šã†"], // 'ã†' ì¼ì¹˜, 2ì
        wrongKanas: ["ã„ã•ã‹ã†", "ã†ãŸãŒã†", "ãŸãŸã‹ã†"]
    },
    { 
        kanji: "å¥½èª¿ãª", kana: "ã“ã†ã¡ã‚‡ã†ãª", meaning: ["í˜¸ì¡°ì¸", "ìˆœì¡°ë¡œìš´"],
        wrongKanjis: ["å¥½æ„ãª", "é †èª¿ãª", "èª¿å’Œãª"], // 'ãª' ì¼ì¹˜, 3ì
        wrongKanas: ["ã”ã†ã¡ã‚‡ã†ãª", "ã“ã†ã˜ã‚‡ã†ãª", "ã“ã†ã©ã†ãª"]
    },
    { 
        kanji: "æ°¸ä¹…", kana: "ãˆã„ãã‚…ã†", meaning: ["ì˜êµ¬", "ì˜ì›"],
        wrongKanjis: ["æ°¸é ", "æŒä¹…", "ä¹…é "], // 2ì ì¼ì¹˜
        wrongKanas: ["ãˆã„ãã‚…", "ãˆã„ã", "ãˆãã‚…ã†"]
    },
    { 
        kanji: "è…¹", kana: "ã¯ã‚‰", meaning: ["ë°°"],
        wrongKanjis: ["èƒ¸", "èƒŒ", "è…°"], // 1ì ì¼ì¹˜
        wrongKanas: ["ãµã", "ã°ã‚‰", "ã¯ã‚‹"]
    },
    { 
        kanji: "åœ¨ç±", kana: "ã–ã„ã›ã", meaning: ["ì¬ì "],
        wrongKanjis: ["å­˜åœ¨", "åœ¨å®…", "ä¸åœ¨"], // 2ì ì¼ì¹˜
        wrongKanas: ["ã–ã„ã—ã‚‡ã", "ã•ã„ã›ã", "ã–ã„ã—ã‚ƒã"]
    },
    { 
        kanji: "æŒ‡æ‘˜", kana: "ã—ã¦ã", meaning: ["ì§€ì "],
        wrongKanjis: ["æŒ‡å°", "æ¡ç‚¹", "åœ°ç©"], // 2ì ì¼ì¹˜
        wrongKanas: ["ã—ã¡ã‚ƒã", "ã—ã¦ã„", "ã˜ã¦ã"]
    },
    { 
        kanji: "å¾“ã†", kana: "ã—ãŸãŒã†", meaning: ["ë”°ë¥´ë‹¤", "ë³µì¢…í•˜ë‹¤"],
        wrongKanjis: ["ç–‘ã†", "å¤±ã†", "æˆ¦ã†"], // 'ã†' ì¼ì¹˜, 2ì
        wrongKanas: ["ã—ãŸãŒãˆã‚‹", "ã—ãŸã‹ã†", "ã•ã—ãŸãŒã†"]
    },
    { 
        kanji: "æµã¾ã‚Œã‚‹", kana: "ã‚ãã¾ã‚Œã‚‹", meaning: ["í˜œíƒ ë°›ë‹¤", "í’ë¶€í•˜ë‹¤"],
        wrongKanjis: ["è¨±ã•ã‚Œã‚‹", "èªã‚ã‚‰ã‚Œã‚‹", "è² ã‚ã‚Œã‚‹"], // 'ã‚Œã‚‹' ì¼ì¹˜
        wrongKanas: ["ã‚ãã¾ã™", "ã‚ãã™", "ã‚ãã¾ã‚Œã‚‹"]
    },
    { 
        kanji: "é ˜åæ›¸", kana: "ã‚Šã‚‡ã†ã—ã‚…ã†ã—ã‚‡", meaning: ["ì˜ìˆ˜ì¦"],
        wrongKanjis: ["é ˜äº‹æ›¸", "é ˜å", "é ˜åœŸæ›¸"], // 3ì ì¼ì¹˜
        wrongKanas: ["ã‚Šã‚…ã†ã—ã‚…ã†ã—ã‚‡", "ã‚Šã‚‡ã†ã˜ã‚…ã—ã‚‡", "ã‚Šã‚‡ã†ã—ã‚…ã¤ã—ã‚‡"]
    },

    // --- 10í˜ì´ì§€ ---
    { 
        kanji: "è’ã„", kana: "ã‚ã‚‰ã„", meaning: ["ê±°ì¹ ë‹¤"],
        wrongKanjis: ["é ã„", "è¾›ã„", "ç”˜ã„"], // 'ã„' ì¼ì¹˜
        wrongKanas: ["ãŠãã„", "ã‹ãŸã„", "ã™ããªã„"]
    },
    { 
        kanji: "è¦‹é€ƒã™", kana: "ã¿ã®ãŒã™", meaning: ["ë†“ì¹˜ë‹¤"],
        wrongKanjis: ["è¦‹å¼µã‚‹", "è¦‹é€ã‚‹", "è¦‹å‡ºã™"], // 'ã™' ì¼ì¹˜
        wrongKanas: ["ã¿ãŠã¨ã™", "ã¿ã®ãŒã™(pitch)", "ã¿ã¾ã‚ã™"]
    },
    { 
        kanji: "è±Šã‹ãª", kana: "ã‚†ãŸã‹ãª", meaning: ["í’ë¶€í•œ", "ë¶€ìœ í•œ"],
        wrongKanjis: ["è±Šä½œãª", "è£•ç¦ãª", "è±Šã‹ãª(åŒå½¢)"], // 'ãª' ì¼ì¹˜
        wrongKanas: ["ã²ã‚ã‚„ã‹ãª", "ã‚†ãŸã‹ã•ãª", "ã‚†ã‹ãŸãª"]
    },
    { 
        kanji: "é¤Šã†", kana: "ã‚„ã—ãªã†", meaning: ["ê¸°ë¥´ë‹¤", "ë¶€ì–‘í•˜ë‹¤"],
        wrongKanjis: ["ç–‘ã†", "å¤±ã†", "æˆ¦ã†"], // 'ã†' ì¼ì¹˜
        wrongKanas: ["ãŠããªã†", "ã†ã—ãªã†", "ãŸãšã•ã‚ã‚‹"]
    },
    { 
        kanji: "è­¦å‚™", kana: "ã‘ã„ã³", meaning: ["ê²½ë¹„"],
        wrongKanjis: ["è­¦å¯Ÿ", "è£…å‚™", "æº–å‚™"], // 2ì ì¼ì¹˜
        wrongKanas: ["ã‘ã„ã²", "ã’ã„ã³", "ã‹ã³"]
    },
    { 
        kanji: "çœã", kana: "ã¯ã¶ã", meaning: ["ìƒëµí•˜ë‹¤"],
        wrongKanjis: ["ç•¥ã™", "æ¸›ã‚‰ã™", "é™¤ã"], // 'ã' ì¼ì¹˜
        wrongKanas: ["ã¯ã¶ã‚Œã‚‹", "ã‚„ã¶ã", "ãŠã‚‚ã"]
    },
    { 
        kanji: "è¿ãˆã‚‹", kana: "ã‚€ã‹ãˆã‚‹", meaning: ["ë§ì´í•˜ë‹¤"],
        wrongKanjis: ["å¤‰ãˆã‚‹", "è¶…ãˆã‚‹", "å¢—ãˆã‚‹"], // 'ãˆã‚‹' ì¼ì¹˜
        wrongKanas: ["ã‚€ã‹ãˆã‚‹(pitch)", "ã‚€ã‹ãˆ", "ã¾ã‹ãˆã‚‹"]
    },
    { 
        kanji: "æ‹¡å¼µ", kana: "ã‹ãã¡ã‚‡ã†", meaning: ["í™•ì¥"],
        wrongKanjis: ["æ‹¡å¤§", "æ‹¡å¼µ(åŒå½¢)", "ç·Šå¼µ"], // 2ì ì¼ì¹˜
        wrongKanas: ["ã‹ããã‚‡ã†", "ã‹ã¡ã‚‡ã†", "ã‹ãã ã„"]
    },
    { 
        kanji: "å¸°çœ", kana: "ãã›ã„", meaning: ["ê·€ì„±"],
        wrongKanjis: ["åçœ", "å¸°å®…", "å¸°å›½"], // 2ì ì¼ì¹˜
        wrongKanas: ["ãã›ã„(pitch)", "ãã", "ã‹ã„ã›ã„"]
    },
    { 
        kanji: "ç¸®ã‚ã‚‹", kana: "ã¡ã¢ã‚ã‚‹", meaning: ["ì¤„ì´ë‹¤"],
        wrongKanjis: ["è©°ã‚ã‚‹", "èªã‚ã‚‹", "åŠªã‚ã‚‹"], // 'ã‚ã‚‹' ì¼ì¹˜
        wrongKanas: ["ã¡ã¢ã¾ã‚‹", "ã¡ã¢ã‚ã‚‹(pitch)", "ã¤ã‚ã‚‹"]
    },
    { 
        kanji: "å®Ÿè·µ", kana: "ã˜ã£ã›ã‚“", meaning: ["å®Ÿì²œ"],
        wrongKanjis: ["å®Ÿæ–½", "å®Ÿç¾", "å®Ÿè¡Œ"], // 2ì ì¼ì¹˜
        wrongKanas: ["ã˜ã£ã›ã‚“(pitch)", "ã—ã¤ã›ã‚“", "ã˜ã›ã‚“"]
    },
    { 
        kanji: "ç•°è‰²", kana: "ã„ã—ã‚‡ã", meaning: ["ç•°è‰²"],
        wrongKanjis: ["ç•°è‡­", "ç•°è«–", "ç‰¹è‰²"], // 2ì ì¼ì¹˜
        wrongKanas: ["ã„ãã", "ã„ã—ã", "ã„ã—ã‚‡"]
    },
    { 
        kanji: "ç³»çµ±", kana: "ã‘ã„ã¨ã†", meaning: ["ç³»çµ±"],
        wrongKanjis: ["ç¶™æ‰¿", "ä¼çµ±", "ç·šè·¯"], // 2ì ì¼ì¹˜
        wrongKanas: ["ã‘ã„ã¨ã†(pitch)", "ã‘ã„ã¨", "ã‘ã„ãš"]
    },
    { 
        kanji: "æŸã­ã‚‹", kana: "ãŸã°ã­ã‚‹", meaning: ["ë¬¶ë‹¤"],
        wrongKanjis: ["èªã‚ã‚‹", "åŠªã‚ã‚‹", "ç¶šã‘ã‚‹"], // 'ã‚‹' ì¼ì¹˜
        wrongKanas: ["ã¤ã‹ã‚€ã‚‹", "ãŸã°ã¾ã‚‹", "ãŸãŒã‚ã‚‹"]
    },
    { 
        kanji: "ç²¾ç®—", kana: "ã›ã„ã•ã‚“", meaning: ["ç²¾ç®—"],
        wrongKanjis: ["æ¸…ç®—", "è¨ˆç®—", "ç”Ÿç”£"], // 2ì ì¼ì¹˜
        wrongKanas: ["ã›ã„ãã‚“", "ã›ã„ã–ã‚“", "ã›ã„ã›ã‚“"]
    },
    { 
        kanji: "è¶£å‘³", kana: "ã—ã‚…ã¿", meaning: ["è¶£å‘³"],
        wrongKanjis: ["èˆˆå‘³", "ç¾å‘³", "ç„¡å‘³"], // 2ì ì¼ì¹˜
        wrongKanas: ["ã—ã‚…ã„", "ã—ã‚…ã‚‚ã", "ã—ã‚…ã†ã¿"]
    },
    { 
        kanji: "è¿”å“", kana: "ã¸ã‚“ã´ã‚“", meaning: ["è¿”å“"],
        wrongKanjis: ["è¿”æ¸ˆ", "å£²å“", "æ–°å“"], // 2ì ì¼ì¹˜
        wrongKanas: ["ã¯ã‚“ã´ã‚“", "ã¸ã‚“ã¶ã¤", "ã²ã‚“ã´ã‚“"]
    },
    { 
        kanji: "ä¹±æš´", kana: "ã‚‰ã‚“ã¼ã†", meaning: ["ä¹±æš´"],
        wrongKanjis: ["æš´å‹•", "æ··ä¹±", "æš´è¨€"], // 2ì ì¼ì¹˜
        wrongKanas: ["ã‚ã‚“ã¼ã†", "ã‚‰ã‚“ã½ã†", "ã‚‰ã‚“ã¼"]
    },
    { 
        kanji: "å¼±ç‚¹", kana: "ã˜ã‚ƒãã¦ã‚“", meaning: ["å¼±ç‚¹"],
        wrongKanjis: ["å¼±ã•", "æ¬ ç‚¹", "ç„¦ç‚¹"], // 2ì ì¼ì¹˜
        wrongKanas: ["ã˜ã‚ƒãã§ã‚“", "ã‚ˆã‚ã¦ã‚“", "ã˜ã‚ƒãã¦ã‚“(pitch)"]
    },
    { 
        kanji: "æ¿ƒã„", kana: "ã“ã„", meaning: ["æ¿ƒã„"],
        wrongKanjis: ["è–„ã„", "ç´°ã„", "é‡ã„"], // 'ã„' ì¼ì¹˜
        wrongKanas: ["ãŠã‚‚ã„", "ã†ã™ã„", "ã¤ã‚ˆã„"]
    },
    { 
        kanji: "æ··ã˜ã‚‹", kana: "ã¾ã˜ã‚‹", meaning: ["æ··ã˜ã‚‹"],
        wrongKanjis: ["äº¤ã˜ã‚‹", "äº¤ãœã‚‹", "å…¥ã‚‹"], // 'ã‚‹' ì¼ì¹˜
        wrongKanas: ["ã¾ãœã‚‹", "ã¾ã–ã‚‹", "ã“ã‚“ã˜ã‚‹"]
    },
    { 
        kanji: "ä»»ã›ã‚‹", kana: "ã¾ã‹ã›ã‚‹", meaning: ["ä»»ã›ã‚‹"],
        wrongKanjis: ["æ±ºã‚ã‚‹", "æ­¢ã‚ã‚‹", "é›†ã‚ã‚‹"], // 'ã‚‹' ì¼ì¹˜
        wrongKanas: ["ã¾ã‹ã•ã‚Œã‚‹", "ã¾ã‹ã›ã‚‹(pitch)", "ã¾ã‹ã›"]
    },
    { 
        kanji: "æ", kana: "ãã‚“", meaning: ["æ"],
        wrongKanjis: ["å¾—", "åˆ©", "æå¤±"], // 1ì ì¼ì¹˜
        wrongKanas: ["ã“ã‚“", "ã›ã‚“", "ã˜ã‚“"]
    },
    { 
        kanji: "é †èª¿", kana: "ã˜ã‚…ã‚“ã¡ã‚‡ã†", meaning: ["é †èª¿"],
        wrongKanjis: ["é †ç•ª", "èª¿å­", "é †åº"], // 2ì ì¼ì¹˜
        wrongKanas: ["ã˜ã‚…ã‚“ã˜ã‚‡ã†", "ã˜ã‚…ã†ã¡ã‚‡ã†", "ã˜ã‚‡ã†ã˜ã‚…ã‚“"]
    },
    { 
        kanji: "æ¼”æŠ€", kana: "ãˆã‚“ã", meaning: ["æ¼”æŠ€"],
        wrongKanjis: ["æŠ€è¡“", "æ¼”èª¬", "æ¼”ç›®"], // 2ì ì¼ì¹˜
        wrongKanas: ["ãˆã‚“ã(pitch)", "ãˆã‚“ã˜", "ãˆã‚“ã"]
    },
    { 
        kanji: "ç©ã‚‚ã‚‹", kana: "ã¤ã‚‚ã‚‹", meaning: ["ç©ã‚‚ã‚‹"],
        wrongKanjis: ["ç©ã‚€", "ç©é›ª", "ç©è·"], // 'ã‚‹' ì¼ì¹˜
        wrongKanas: ["ã¤ã‚‚ã‚‰ã™", "ã¤ã¾ã‚‹", "ã™ã‚ã‚‹"]
    },
    { 
        kanji: "é•å", kana: "ã„ã¯ã‚“", meaning: ["é•å"],
        wrongKanjis: ["é•æ³•", "åå‰‡", "åæŠ—"], // 2ì ì¼ì¹˜
        wrongKanas: ["ã„ã°ã‚“", "ã„ã¯ã‚“(pitch)", "ã„ã‘ã‚“"]
    },
    { 
        kanji: "å‹‡ã¾ã—ã„", kana: "ã„ã•ã¾ã—ã„", meaning: ["å‹‡ã¾ã—ã„"],
        wrongKanjis: ["ç¾¨ã¾ã—ã„", "æ‡ã‹ã—ã„", "é¨’ãŒã—ã„"], // 'ã—ã„' ì¼ì¹˜
        wrongKanas: ["ã†ã‚‰ã‚„ã¾ã—ã„", "ã•ã³ã—ã„", "ã‚„ã‹ã¾ã—ã„"]
    },
    { 
        kanji: "é™½æ°—ãª", kana: "ã‚ˆã†ããª", meaning: ["æ˜ë‘í•œ", "ë°ì€"],
        wrongKanjis: ["é™°æ°—ãª", "é™½æ€§ãª", "å¤©å€™ãª"], // 'æ°—ãª' ì¼ì¹˜
        wrongKanas: ["ã‚ˆã†ãã•ãª", "ã‚ˆããª", "ãŠã‚“ããª"]
    },
    { 
        kanji: "ç™»ã‚‹", kana: "ã®ã¼ã‚‹", meaning: ["ç™»ã‚‹"],
        wrongKanjis: ["ä¸Šã‚‹", "ä¸‹ã‚‹", "ä¸Šã‚‹(åŒå½¢)"], // 'ã‚‹' ì¼ì¹˜
        wrongKanas: ["ã®ã¼ã›ã‚‹", "ã®ã¼ã‚Šã‚‹", "ã®ã¼ã‚‰ã™"]
    },
    { 
        kanji: "å‚ç›´", kana: "ã™ã„ã¡ã‚‡ã", meaning: ["å‚ç›´"]
    },

    // --- 11í˜ì´ì§€ ---
    { 
        kanji: "ä½å±…", kana: "ã˜ã‚…ã†ãã‚‡", meaning: ["ä½å±…"],
        wrongKanjis: ["ä½æ‰€", "å±…é–“", "ä½æ°‘"], // 2ì ì¼ì¹˜
        wrongKanas: ["ã˜ã‚…ã†ã„", "ã˜ã‚…ã†ã—ã‚‡", "ã˜ã‚…ã†ãã‚‡(pitch)"]
    },
    { 
        kanji: "çŸ­ç·¨", kana: "ãŸã‚“ãºã‚“", meaning: ["çŸ­ç·¨"],
        wrongKanjis: ["é•·ç·¨", "çŸ­æ‰€", "ç·¨é›†"], // 2ì ì¼ì¹˜
        wrongKanas: ["ã¡ã‚‡ã†ã¸ã‚“", "ãŸã‚“ãºã„", "ãŸã‚“ã¸ã‚“(pitch)"]
    },
    { 
        kanji: "æ•£ã‚‹", kana: "ã¡ã‚‹", meaning: ["æ•£ã‚‹"],
        wrongKanjis: ["æ•£ã‚‰ã‹ã™", "æ•£æ­©", "é£›ã¶"], // 1ì ì¼ì¹˜
        wrongKanas: ["ã¡ã‚‰ã™", "ã¡ã‚‹(pitch)", "ã¯ã‚Œã‚‹"]
    },
    { 
        kanji: "å…¸å‹çš„ãª", kana: "ã¦ã‚“ã‘ã„ã¦ããª", meaning: ["å…¸å‹çš„ãª"],
        wrongKanjis: ["å½¢å¼çš„ãª", "æ¨¡ç¯„çš„ãª", "æ¨™æº–çš„ãª"], // 'çš„ãª' ì¼ì¹˜
        wrongKanas: ["ã§ã‚“ã‘ã„ã¦ããª", "ã¦ã‚“ã‹ã„ã¦ããª", "ã‘ã„ã—ãã¦ããª"]
    },
    { 
        kanji: "æ¬²", kana: "ã‚ˆã", meaning: ["æ¬²"],
        wrongKanjis: ["æ¬²æœ›", "é£Ÿæ¬²", "è²ªæ¬²"], // 1ì ì¼ì¹˜
        wrongKanas: ["ã‚ˆã£ã", "ã‚ˆã(pitch)", "ã”ã"]
    },
    { 
        kanji: "æŸ”ã‚‰ã‹ã„", kana: "ã‚„ã‚ã‚‰ã‹ã„", meaning: ["æŸ”ã‚‰ã‹ã„"],
        wrongKanjis: ["æ¸©ã‹ã„", "ç”˜ã„", "ä½ã„"], // 'ã„' ì¼ì¹˜
        wrongKanas: ["ã‚„ã‚ã‚‰ã‹ã•", "ã‚„ã‚ã‚‰", "ã‚ãŸãŸã‹ã„"]
    },
    { 
        kanji: "ç–²åŠ´", kana: "ã²ã‚ã†", meaning: ["ç–²åŠ´"],
        wrongKanjis: ["è‹¦åŠ´", "ç–²ã‚Œã‚‹", "åŠ´åƒ"], // 2ì ì¼ì¹˜
        wrongKanas: ["ã²ã‚(pitch)", "ã²ã‚ã†(åŒå½¢)", "ãã‚ã†"]
    },
    { 
        kanji: "ä¿³å„ª", kana: "ã¯ã„ã‚†ã†", meaning: ["ä¿³å„ª"],
        wrongKanjis: ["å¥³å„ª", "å„ªç§€", "æ’ä»–"], // 2ì ì¼ì¹˜
        wrongKanas: ["ã¯ã„ã‚†ã†(pitch)", "ã¯ã„ã‚†", "ã¯ã„ãµã"]
    },
    { 
        kanji: "é¿é›£", kana: "ã²ãªã‚“", meaning: ["é¿é›£"],
        wrongKanjis: ["éé›£", "é¿ã‘ã‚‹", "å›°é›£"], // 2ì ì¼ì¹˜
        wrongKanas: ["ã²ãªã‚“(pitch)", "ã²ãªã‚“ã•", "ã²ã°ã‚“"]
    },
    { 
        kanji: "è¨ºæ–­", kana: "ã—ã‚“ã ã‚“", meaning: ["è¨ºæ–­"],
        wrongKanjis: ["åˆ¤æ–­", "æ–­å®š", "è¨ºå¯Ÿ"], // 2ì ì¼ì¹˜
        wrongKanas: ["ã—ã‚“ã ã‚“(pitch)", "ã—ã‚“ã‹ã‚“", "ã˜ã‚“ã ã‚“"]
    },
    { 
        kanji: "æ•¬ã†", kana: "ã†ã‚„ã¾ã†", meaning: ["æ•¬ã†"],
        wrongKanjis: ["æ€ã†", "è²·ã†", "ä¼šã†"], // 'ã†' ì¼ì¹˜
        wrongKanas: ["ã†ã‚„ã¾ãˆã‚‹", "ã†ã‚„ã¾ã„", "ã†ã‚„ã¾ã‚‹"]
    },
    { 
        kanji: "å—è¬›", kana: "ã˜ã‚…ã“ã†", meaning: ["å—è¬›"],
        wrongKanjis: ["å—é¨“", "å—é ˜", "è¬›ç¾©"], // 2ì ì¼ì¹˜
        wrongKanas: ["ã˜ã‚…ã“ã†(pitch)", "ã˜ã‚…ã‚“ã“ã†", "ã—ã‚…ã“ã†"]
    },
    { 
        kanji: "å¸ƒ", kana: "ã¬ã®", meaning: ["å¸ƒ"],
        wrongKanjis: ["ç³¸", "ç´™", "æœ¨"], // 1ì ì¼ì¹˜
        wrongKanas: ["ãµ", "ã­ã®", "ã®ã®"]
    },
    { 
        kanji: "æ¨ã¦ã‚‹", kana: "ã™ã¦ã‚‹", meaning: ["æ¨ã¦ã‚‹"],
        wrongKanjis: ["å»ºã¦ã‚‹", "ä¼ãˆã‚‹", "ç‡ƒã‚„ã™"], // 'ã‚‹' ì¼ì¹˜
        wrongKanas: ["ã™ã¦ãŸ", "ã™ã¦ã‚‹(pitch)", "ã™ã¦ãªã„"]
    },
    { 
        kanji: "æ©Ÿå«Œ", kana: "ãã’ã‚“", meaning: ["æ©Ÿå«Œ"],
        wrongKanjis: ["æ©Ÿä¼š", "ä¸æ©Ÿå«Œ", "æœŸé™"], // 2ì ì¼ì¹˜
        wrongKanas: ["ãã‹ã‚“", "ãã‘ã‚“(pitch)", "ã”ãã’ã‚“"]
    },
    { 
        kanji: "æå¤±", kana: "ãã‚“ã—ã¤", meaning: ["æå¤±"],
        wrongKanjis: ["æå®³", "å¤±ã†", "å¤±æ•—"], // 2ì ì¼ì¹˜
        wrongKanas: ["ãã‚“ã—ã¤(pitch)", "ãã‚“ã—", "ãã‚“ãŒã"]
    },
    { 
        kanji: "ç ”ä¿®", kana: "ã‘ã‚“ã—ã‚…ã†", meaning: ["ç ”ä¿®"],
        wrongKanjis: ["ç ”ç©¶", "é€²ä¿®", "ç·¨é›†"], // 2ì ì¼ì¹˜
        wrongKanas: ["ã‘ã‚“ã—ã‚…ã†(pitch)", "ãã‚“ã—ã‚…ã†", "ã‘ã‚“ã›ã„"]
    },
    { 
        kanji: "è«¸å•é¡Œ", kana: "ã—ã‚‡ã‚‚ã‚“ã ã„", meaning: ["è«¸å•é¡Œ"],
        wrongKanjis: ["å•é¡Œ", "è©±é¡Œ", "èª²é¡Œ"], // 3ì ì¼ì¹˜
        wrongKanas: ["ã—ã‚‡ã‚‚ã‚“", "ã—ã‚‡ã‚‚ã‚“ã ã„(pitch)", "ã—ã‚‡ã ã„"]
    },
    { 
        kanji: "å•†åº—è¡—", kana: "ã—ã‚‡ã†ã¦ã‚“ãŒã„", meaning: ["å•†åº—è¡—"],
        wrongKanjis: ["å•†åº—", "è¡—é“", "å¸‚å ´"], // 3ì ì¼ì¹˜
        wrongKanas: ["ã—ã‚‡ã†ãŒã„", "ã—ã‚‡ã†ã¦ã‚“ãŒã„(pitch)", "ã˜ã‚‡ã†ã¦ã‚“ãŒã„"]
    },
    { 
        kanji: "è€ãˆã‚‹", kana: "ãŸãˆã‚‹", meaning: ["è€ãˆã‚‹"],
        wrongKanjis: ["ç‡ƒãˆã‚‹", "è¶Šãˆã‚‹", "å¢—ãˆã‚‹"], // 'ãˆã‚‹' ì¼ì¹˜
        wrongKanas: ["ãŸãˆã‚Œã‚‹", "ãŸãˆã•ã›ã‚‹", "ãŸãˆã‚‹(pitch)"]
    },
    { 
        kanji: "å†æ”¾é€", kana: "ã•ã„ã»ã†ãã†", meaning: ["å†æ”¾é€"],
        wrongKanjis: ["å†é–‹", "å†æå‡º", "æ”¾é€"], // 3ì ì¼ì¹˜
        wrongKanas: ["ã•ã„ã»ã", "ã•ã„ãã†", "ã•ã„ã»ã†ãã†(pitch)"]
    },
    { 
        kanji: "æŠ•ç¥¨", kana: "ã¨ã†ã²ã‚‡ã†", meaning: ["æŠ•ç¥¨"],
        wrongKanjis: ["æŠ•ã’ã‚‹", "æ¨™èª", "æŠ•å…¥"], // 2ì ì¼ì¹˜
        wrongKanas: ["ã¨ã†ã²ã‚‡ã†(pitch)", "ã©ã†ã²ã‚‡ã†", "ã¨ã†ã»ã†"]
    },
    { 
        kanji: "æŠ±ãˆã‚‹", kana: "ã‹ã‹ãˆã‚‹", meaning: ["æŠ±ãˆã‚‹"],
        wrongKanjis: ["æ•™ãˆã‚‹", "è¿ãˆã‚‹", "è€ƒãˆã‚‹"], // 'ãˆã‚‹' ì¼ì¹˜
        wrongKanas: ["ã“ã”ãˆã‚‹", "ã‹ããˆã‚‹", "ã‚€ã‹ãˆã‚‹"]
    },
    { 
        kanji: "å¿—æœ›", kana: "ã—ã¼ã†", meaning: ["å¿—æœ›"],
        wrongKanjis: ["å¸Œæœ›", "å¤±æœ›", "æ„å¿—"], // 2ì ì¼ì¹˜
        wrongKanas: ["ã—ã¼ã†(pitch)", "ãã¼ã†", "ã„ã—"]
    },
    { 
        kanji: "å‰¯ç¤¾é•·", kana: "ãµãã—ã‚ƒã¡ã‚‡ã†", meaning: ["å‰¯ç¤¾é•·"],
        wrongKanjis: ["å‰¯å¤§è‡£", "å‰¯éƒ¨é•·", "å‰¯å§”å“¡"], // 3ì ì¼ì¹˜
        wrongKanas: ["ãµãã˜ã¡ã‚‡ã†", "ãµãã—ã‚ƒã¡ã‚‡ã†(pitch)", "ãµãã¡ã‚‡ã†"]
    },
    { 
        kanji: "é«˜åå…¥", kana: "ã“ã†ã—ã‚…ã†ã«ã‚…ã†", meaning: ["é«˜åå…¥"],
        wrongKanjis: ["åå…¥", "é«˜é¡", "é«˜æ°´æº–"], // 3ì ì¼ì¹˜
        wrongKanas: ["ã“ã†ã—ã‚…ã«ã‚…ã†", "ã“ã†ã˜ã‚…ã«ã‚…ã†", "ã“ã†ã—ã‚…ã†ã«ã‚…ã†(pitch)"]
    },
    { 
        kanji: "äºˆç´„åˆ¶", kana: "ã‚ˆã‚„ãã›ã„", meaning: ["äºˆç´„åˆ¶"],
        wrongKanjis: ["äºˆç´„", "åˆ¶åº¦", "ä½“åˆ¶"], // 3ì ì¼ì¹˜
        wrongKanas: ["ã‚ˆã‚„ãã›ã„(pitch)", "ã‚ˆã‚„ãã›ã„ã©", "ã‚„ãã›ã„"]
    },

    // --- 12í˜ì´ì§€ ---
    { 
        kanji: "å°±è·ç‡", kana: "ã—ã‚…ã†ã—ã‚‡ãã‚Šã¤", meaning: ["å°±è·ç‡"],
        wrongKanjis: ["å°±è·", "ç¢ºç‡", "èƒ½ç‡"], // 3ì ì¼ì¹˜
        wrongKanas: ["ã—ã‚…ã†ã—ã‚‡ãã‚Šã¤(pitch)", "ã—ã‚…ã†ã—ã‚‡ãã‚Š", "ã—ã‚…ã†ã—ã‚Šã¤"]
    },
    { 
        kanji: "é›†ä¸­åŠ›", kana: "ã—ã‚…ã†ã¡ã‚…ã†ã‚Šã‚‡ã", meaning: ["é›†ä¸­åŠ›"],
        wrongKanjis: ["é›†ä¸­", "èƒ½åŠ›", "å”åŠ›"], // 3ì ì¼ì¹˜
        wrongKanas: ["ã—ã‚…ã†ã¡ã‚…ã†ã‚Šã‚‡ã(pitch)", "ã˜ã‚…ã†ã¡ã‚…ã†ã‚Šã‚‡ã", "ã—ã‚…ã†ã—ã‚Šã‚‡ã"]
    },
    { 
        kanji: "æ—§åˆ¶åº¦", kana: "ãã‚…ã†ã›ã„ã©", meaning: ["æ—§åˆ¶åº¦"],
        wrongKanjis: ["åˆ¶åº¦", "æ–°åˆ¶åº¦", "æ—§å¼"], // 3ì ì¼ì¹˜
        wrongKanas: ["ãã‚…ã†ã›ã„ã©(pitch)", "ãã›ã„ã©", "ãã‚…ã†ã˜ã‚‡"]
    },
    { 
        kanji: "åŒ»å­¦ç•Œ", kana: "ã„ãŒãã‹ã„", meaning: ["åŒ»å­¦ç•Œ"],
        wrongKanjis: ["ä¸–ç•Œ", "åŒ»å­¦", "å­¦ä¼š"], // 3ì ì¼ì¹˜
        wrongKanas: ["ã„ãŒãã‹ã„(pitch)", "ã„ã‹ãã‹ã„", "ã„ã˜ã‚…ã¤ã‹ã„"]
    },
    { 
        kanji: "æ–‡å­¦è³", kana: "ã¶ã‚“ãŒãã—ã‚‡ã†", meaning: ["æ–‡å­¦è³"],
        wrongKanjis: ["è³é‡‘", "æ–‡å­¦", "å­¦ç¿’"], // 3ì ì¼ì¹˜
        wrongKanas: ["ã¶ã‚“ãŒãã—ã‚‡ã†(pitch)", "ã¶ã‚“ãŒããã†", "ã‚‚ã‚“ãŒãã—ã‚‡ã†"]
    },
    { 
        kanji: "æº–å„ªå‹", kana: "ã˜ã‚…ã‚“ã‚†ã†ã—ã‚‡ã†", meaning: ["æº–å„ªå‹"],
        wrongKanjis: ["å„ªå‹", "æº–å‚™", "åŸºæº–"], // 3ì ì¼ì¹˜
        wrongKanas: ["ã˜ã‚…ã‚“ã‚†ã†ã—ã‚‡ã†(pitch)", "ã˜ã‚…ã‚“ã—ã‚‡ã†", "ã˜ã‚…ã‚“ã„"]
    },
    { 
        kanji: "æ‚ªæ¡ä»¶", kana: "ã‚ãã˜ã‚‡ã†ã‘ã‚“", meaning: ["æ‚ªæ¡ä»¶"],
        wrongKanjis: ["æ¡ä»¶", "æ‚ªåŒ–", "äº‹ä»¶"], // 3ì ì¼ì¹˜
        wrongKanas: ["ã‚ãã˜ã‚‡ã†ã‘ã‚“(pitch)", "ã‚ã‚‹ã˜ã‚‡ã†ã‘ã‚“", "ã‚ãã‘ã‚“"]
    },
    { 
        kanji: "ç¾æ®µéš", kana: "ã’ã‚“ã ã‚“ã‹ã„", meaning: ["ç¾æ®µéš"],
        wrongKanjis: ["éšæ®µ", "ç¾åœ¨", "éšç´š"], // 3ì ì¼ì¹˜
        wrongKanas: ["ã’ã‚“ã ã‚“ã‹ã„(pitch)", "ã’ã‚“ã‹ã‚“", "ã‘ã‚“ã ã‚“ã‹ã„"]
    },
    { 
        kanji: "éå…¬å¼", kana: "ã²ã“ã†ã—ã", meaning: ["éå…¬å¼"],
        wrongKanjis: ["å…¬å¼", "éå¸¸", "å½¢å¼"], // 3ì ì¼ì¹˜
        wrongKanas: ["ã²ã“ã†ã—ã(pitch)", "ãµã“ã†ã—ã", "ã²ãã‚‡ã†ã—ã"]
    },
    { 
        kanji: "ä¸€æ—¥ãŠã", kana: "ã„ã¡ã«ã¡ãŠã", meaning: ["ä¸€æ—¥ãŠã"],
        wrongKanjis: ["äºŒæ—¥ãŠã", "ä¸‰æ—¥ãŠã", "ä¸€é€±é–“"], // 4ì ì¼ì¹˜
        wrongKanas: ["ã„ã¡ã«ã¡ãŠã(pitch)", "ã„ã¡ã«ã¡ã”ã¨", "ã„ã¡ã˜ã¤ãŠã"]
    },
    { 
        kanji: "ç·å£²ä¸Š", kana: "ãã†ã†ã‚Šã‚ã’", meaning: ["ç·å£²ä¸Š"],
        wrongKanjis: ["å£²ä¸Š", "ç·åˆ", "è²©å£²"], // 3ì ì¼ì¹˜
        wrongKanas: ["ãã†ã†ã‚Šã‚ã’(pitch)", "ãã†ã‚Šã‚ã’", "ãœã‚“ã†ã‚Šã‚ã’"]
    },
    { 
        kanji: "çœŸå¤œä¸­", kana: "ã¾ã‚ˆãªã‹", meaning: ["çœŸå¤œä¸­"],
        wrongKanjis: ["å¤œä¸­", "çœŸå®Ÿ", "æ˜¼é–“"], // 3ì ì¼ì¹˜
        wrongKanas: ["ã¾ã‚ˆãªã‹(pitch)", "ã—ã‚“ã‚„ãªã‹", "ã¾ã²ã‚‹ãªã‹"]
    },
    { 
        kanji: "ä»®æ¡ç”¨", kana: "ã‹ã‚Šã•ã„ã‚ˆã†", meaning: ["ä»®æ¡ç”¨"],
        wrongKanjis: ["æ¡ç”¨", "ä»®å®š", "ä½¿ç”¨"], // 3ì ì¼ì¹˜
        wrongKanas: ["ã‹ã‚Šã•ã„ã‚ˆã†(pitch)", "ã‹ã•ã„ã‚ˆã†", "ã‹ãã†ã‚ˆã†"]
    },
    { 
        kanji: "æŠ•ç¥¨ç‡", kana: "ã¨ã†ã²ã‚‡ã†ã‚Šã¤", meaning: ["æŠ•ç¥¨ç‡"],
        wrongKanjis: ["æŠ•ç¥¨", "ç¢ºç‡", "èƒ½ç‡"], // 3ì ì¼ì¹˜
        wrongKanas: ["ã¨ã†ã²ã‚‡ã†ã‚Šã¤(pitch)", "ã¨ã†ã‚Šã¤", "ã²ã‚‡ã†ã¨ã†ã‚Šã¤"]
    },
    { 
        kanji: "å›½éš›è‰²", kana: "ã“ãã•ã„ã—ã‚‡ã", meaning: ["å›½éš›è‰²"],
        wrongKanjis: ["å›½éš›", "è‰²å½©", "æ™¯è‰²"], // 3ì ì¼ì¹˜
        wrongKanas: ["ã“ãã•ã„ã—ã‚‡ã(pitch)", "ãŒã„ã“ãã—ã‚‡ã", "ã“ãã•ã„ã‚"]
    },
    { 
        kanji: "è«¸å¤–å›½", kana: "ã—ã‚‡ãŒã„ã“ã", meaning: ["è«¸å¤–å›½", "ì—¬ëŸ¬ ë‚˜ë¼"],
        wrongKanjis: ["å¤–å›½", "è«¸ã€…", "å›½å¤–"], // 3ì ì¼ì¹˜
        wrongKanas: ["ã—ã‚‡ãŒã„ã“ã(pitch)", "ã—ã‚‡ã“ã", "ãŒã„ã“ãã˜ã‚“"]
    },
    { 
        kanji: "åŠé€æ˜", kana: "ã¯ã‚“ã¨ã†ã‚ã„", meaning: ["åŠé€æ˜"],
        wrongKanjis: ["é€æ˜", "åŠåˆ†", "æ˜ã‹ã‚Š"], // 3ì ì¼ì¹˜
        wrongKanas: ["ã¯ã‚“ã¨ã†ã‚ã„(pitch)", "ã¨ã†ã‚ã„", "ã¯ã‚“ã‚ã„"]
    },
    { 
        kanji: "ä½ä¾¡æ ¼", kana: "ã¦ã„ã‹ã‹ã", meaning: ["ä½ä¾¡æ ¼"],
        wrongKanjis: ["ä¾¡æ ¼", "ä½ä¸‹", "é«˜ä¾¡æ ¼"], // 3ì ì¼ì¹˜
        wrongKanas: ["ã¦ã„ã‹ã‹ã(pitch)", "ã¦ã„ã‹ã", "ã¦ã„ãŒã"]
    },
    { 
        kanji: "æ—¥æœ¬æµ", kana: "ã«ã»ã‚“ã‚Šã‚…ã†", meaning: ["æ—¥æœ¬å¼"],
        wrongKanjis: ["æµè¡Œ", "æ—¥æœ¬", "äº¤æµ"], // 3ì ì¼ì¹˜
        wrongKanas: ["ã«ã»ã‚“ã‚Šã‚…ã†(pitch)", "ã«ã»ã‚“ã—ã", "ã‚Šã‚…ã†ã“ã†"]
    },
    { 
        kanji: "æº–æ±ºå‹", kana: "ã˜ã‚…ã‚“ã‘ã£ã—ã‚‡ã†", meaning: ["æº–æ±ºå‹"],
        wrongKanjis: ["æ±ºå‹", "æº–å‚™", "æ±ºå®š"], // 3ì ì¼ì¹˜
        wrongKanas: ["ã˜ã‚…ã‚“ã‘ã£ã—ã‚‡ã†(pitch)", "ã˜ã‚…ã‚“ã—ã‚‡ã†", "ã‘ã£ã›ã‚“"]
    },
    { 
        kanji: "å†æå‡º", kana: "ã•ã„ã¦ã„ã—ã‚…ã¤", meaning: ["å†æå‡º"],
        wrongKanjis: ["æå‡º", "å†ç”Ÿ", "ææ¡ˆ"], // 3ì ì¼ì¹˜
        wrongKanas: ["ã•ã„ã¦ã„ã—ã‚…ã¤(pitch)", "ã•ã„ã—ã‚…ã¤", "ã•ã„ã‚ã‚“"]
    },
    { 
        kanji: "è¦ªå­é€£ã‚Œ", kana: "ãŠã‚„ã“ã¥ã‚Œ", meaning: ["è¦ªå­é€£ã‚Œ"],
        wrongKanjis: ["å­ä¾›é€£ã‚Œ", "è¦ªæˆš", "å¤«å©¦é€£ã‚Œ"], // 4ì ì¼ì¹˜
        wrongKanas: ["ãŠã‚„ã“ã¥ã‚Œ(pitch)", "ãµãŸãŠã‚„ã¥ã‚Œ", "ãŠã‚„ã“ã„ã£ã—ã‚‡"]
    },
    { 
        kanji: "è–„æš—ã„", kana: "ã†ã™ãã‚‰ã„", meaning: ["è–„æš—ã„"],
        wrongKanjis: ["æš—ã„", "è–„ã„", "æ˜ã‚‹ã„"], // 3ì ì¼ì¹˜
        wrongKanas: ["ã†ã™ãã‚‰ã„(pitch)", "ã†ã™ãã‚‰ã„", "ã‚ãã‚‰ã„"]
    },
    { 
        kanji: "éŸ³æ¥½å…¨èˆ¬", kana: "ãŠã‚“ãŒããœã‚“ã°ã‚“", meaning: ["éŸ³æ¥½å…¨èˆ¬"],
        wrongKanjis: ["å…¨èˆ¬", "éŸ³æ¥½", "ä¸€èˆ¬"], // 4ì ì¼ì¹˜
        wrongKanas: ["ãŠã‚“ãŒããœã‚“ã±ã‚“", "ãŠã‚“ãŒãã¯ã‚“", "ãœã‚“ãŠã‚“ãŒã"]
    },
    { 
        kanji: "é¢¨é‚ªæ°—å‘³", kana: "ã‹ãœãã¿", meaning: ["é¢¨é‚ªæ°—å‘³"],
        wrongKanjis: ["é¢¨é‚ª", "èˆˆå‘³", "æ„å‘³"], // 3ì ì¼ì¹˜
        wrongKanas: ["ã‹ãœãã¿(pitch)", "ãµã†ã˜ã‚ƒãã¿", "ã‹ãœãã¿"]
    },
    { 
        kanji: "æœ€æœ‰åŠ›", kana: "ã•ã„ã‚†ã†ã‚Šã‚‡ã", meaning: ["æœ€æœ‰åŠ›"],
        wrongKanjis: ["æœ‰åŠ›", "å”åŠ›", "æœ€åˆ"], // 3ì ì¼ì¹˜
        wrongKanas: ["ã•ã„ã‚†ã†ã‚Šã‚‡ã(pitch)", "ã•ã„ã‚Šã‚‡ã", "ã‚†ã†ã‚Šã‚‡ã"]
    },
    { 
        kanji: "é£Ÿå™¨é¡", kana: "ã—ã‚‡ã£ãã‚‹ã„", meaning: ["é£Ÿå™¨é¡"],
        wrongKanjis: ["é£Ÿäº‹", "æ›¸é¡", "å™¨"], // 3ì ì¼ì¹˜
        wrongKanas: ["ã—ã‚‡ã£ãã‚‹ã„(pitch)", "ã—ã‚‡ãã", "ã—ã‚‡ã‚‹ã„"]
    },
    { 
        kanji: "æœªçµŒé¨“", kana: "ã¿ã‘ã„ã‘ã‚“", meaning: ["æœªçµŒé¨“"],
        wrongKanjis: ["çµŒé¨“", "æœªæ¥", "å®Ÿé¨“"], // 3ì ì¼ì¹˜
        wrongKanas: ["ã¿ã‘ã„ã‘ã‚“(pitch)", "ã¿ã‘ã‚“", "ã„ã‘ã„ã‘ã‚“"]
    },
    { 
        kanji: "æœŸé™åˆ‡ã‚Œ", kana: "ãã’ã‚“ãã‚Œ", meaning: ["æœŸé™åˆ‡ã‚Œ"],
        wrongKanjis: ["æœŸé™", "åˆ‡ã‚Œã‚‹", "åˆ¶é™"], // 3ì ì¼ì¹˜
        wrongKanas: ["ãã’ã‚“ãã‚Œ(pitch)", "ãã’ã‚“ãã‚Š", "ãã‚Œã’ã‚“"]
    }
];
];
        // ----------------------------------------------------
        // ë¡œì§ ì‹œì‘
        // ----------------------------------------------------

        let currentIndex = 0;
        let score = 0;
        let currentStep = 'kanji'; // 'kanji' (ëœ»->í•œì) or 'reading' (í•œì->ë°œìŒ)
        let quizList = [];
        let incorrectList = [];
        let isReviewMode = false;
        let isProcessing = false;

        // DOM ìš”ì†Œ
        const elements = {
            questionText: document.getElementById('question-text'),
            stepBadge: document.getElementById('step-badge'),
            stepGuide: document.getElementById('step-guide'),
            choicesContainer: document.getElementById('choices-container'),
            feedback: document.getElementById('feedback'),
            progressBar: document.getElementById('progress-bar'),
            currentIndex: document.getElementById('current-index'),
            totalCount: document.getElementById('total-count'),
            quizContainer: document.getElementById('quiz-container'),
            resultContainer: document.getElementById('result-container'),
            finalScore: document.getElementById('final-score'),
            reviewSection: document.getElementById('review-section'),
            wrongCount: document.getElementById('wrong-count'),
            headerBg: document.getElementById('header-bg'),
            headerTitle: document.getElementById('header-title'),
            headerDesc: document.getElementById('header-desc')
        };

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // ğŸ”¥ [í•µì‹¬] ê²¹ì¹˜ëŠ” ê¸€ìê°€ ìˆëŠ” ì˜¤ë‹µ ìƒì„±ê¸°
        function getSmartDistractors(targetData, allData, type) {
            let candidates = allData.filter(item => item.kanji !== targetData.kanji);
            let filtered = [];

            if (type === 'kanji') {
                // 1ìˆœìœ„: í•œ ê¸€ìë¼ë„ ê²¹ì¹˜ëŠ” ë‹¨ì–´ ì°¾ê¸°
                const targetChars = targetData.kanji.split('');
                
                filtered = candidates.filter(item => {
                    // ê¸€ì ìˆ˜ê°€ ë¹„ìŠ·í•´ì•¼ í•¨ (Â±1)
                    if (Math.abs(item.kanji.length - targetData.kanji.length) > 1) return false;
                    
                    // ê²¹ì¹˜ëŠ” ê¸€ìê°€ ìˆëŠ”ì§€ í™•ì¸
                    return targetChars.some(char => item.kanji.includes(char));
                });

                // 2ìˆœìœ„: ê²¹ì¹˜ëŠ”ê²Œ ì—†ìœ¼ë©´ ê¸€ì ìˆ˜ ê°™ì€ ê²ƒ ì°¾ê¸°
                if (filtered.length < 3) {
                    const moreCandidates = candidates.filter(item => item.kanji.length === targetData.kanji.length);
                    filtered = [...filtered, ...moreCandidates];
                }
                
            } else if (type === 'reading') {
                // [ë°œìŒ] ê¸€ì ìˆ˜ Â±1 ì°¨ì´
                const targetLen = targetData.kana.length;
                filtered = candidates.filter(item => Math.abs(item.kana.length - targetLen) <= 1);
            }

            // 3ìˆœìœ„: ê·¸ë˜ë„ ë¶€ì¡±í•˜ë©´ ì „ì²´ì—ì„œ ëœë¤
            if (filtered.length < 3) {
                filtered = candidates;
            }

            // ì¤‘ë³µ ì œê±° í›„ 3ê°œ ì¶”ì¶œ
            const uniqueFiltered = [...new Set(filtered)]; 
            return shuffleArray(uniqueFiltered).slice(0, 3);
        }

        function initQuiz() {
            quizList = shuffleArray([...vocabularyData]);
            incorrectList = [];
            isReviewMode = false;
            score = 0;
            currentIndex = 0;
            updateHeaderUI();
            startCycle();
        }

        function startReview() {
            quizList = shuffleArray([...incorrectList]);
            incorrectList = [];
            isReviewMode = true;
            score = 0;
            currentIndex = 0;
            
            elements.resultContainer.classList.add('hidden');
            elements.quizContainer.classList.remove('hidden');
            updateHeaderUI();
            startCycle();
        }

        function updateHeaderUI() {
            if (isReviewMode) {
                elements.headerBg.className = "bg-orange-500 p-5 text-white text-center transition-colors duration-500";
                elements.headerTitle.innerText = "ì˜¤ë‹µ ë³µìŠµ ëª¨ë“œ";
                elements.headerDesc.innerText = "í‹€ë¦° ë‹¨ì–´ë¥¼ í™•ì‹¤í•˜ê²Œ ì™¸ì›Œë´…ì‹œë‹¤!";
            } else {
                elements.headerBg.className = "bg-indigo-600 p-5 text-white text-center transition-colors duration-500";
                elements.headerTitle.innerText = "JLPT N2 ê±°ê¾¸ë¡œ ì•”ê¸°";
                elements.headerDesc.innerText = "ëœ»ì„ ë³´ê³  í•œì(ìœ ì‚¬ ê¸€ì ì£¼ì˜) ë§ì¶”ê¸°";
            }
        }

        function startCycle() {
            elements.totalCount.innerText = quizList.length;
            loadQuestion();
        }

        function loadQuestion() {
            const currentData = quizList[currentIndex];
            elements.currentIndex.innerText = currentIndex + 1;
            
            const progress = (currentIndex / quizList.length) * 100;
            elements.progressBar.style.width = `${progress}%`;

            elements.feedback.innerText = '';
            
            // Reverse ëª¨ë“œëŠ” 'í•œì ê³ ë¥´ê¸°'ë¶€í„° ì‹œì‘
            currentStep = 'kanji';
            renderChoices();
            isProcessing = false;
        }

        function renderChoices() {
            const currentData = quizList[currentIndex];
            elements.choicesContainer.innerHTML = ''; 

            let correctAnswer = '';
            let distractors = [];

            if (currentStep === 'kanji') {
                // [Step 1] ëœ» -> í•œì
                elements.stepBadge.innerText = "Step 1";
                elements.stepBadge.className = "bg-indigo-100 text-indigo-700 text-xs font-bold px-3 py-1 rounded-full";
                elements.stepGuide.innerText = "ì•Œë§ì€ í•œìë¥¼ ê³ ë¥´ì„¸ìš”";
                
                // ì§ˆë¬¸: í•œêµ­ì–´ ëœ»
                elements.questionText.innerText = currentData.meaning.join(', ');
                elements.questionText.className = "text-4xl font-bold text-gray-800 mb-3 min-h-[3.5rem] break-keep leading-tight flex items-center justify-center";
                
                correctAnswer = currentData.kanji;

                // 1. ë¯¸ë¦¬ ì§€ì •ëœ ì˜¤ë‹µì´ ìˆìœ¼ë©´ ì‚¬ìš©
                if (currentData.wrongKanjis && currentData.wrongKanjis.length > 0) {
                    distractors = shuffleArray(currentData.wrongKanjis).slice(0, 3);
                } else {
                    // 2. ì—†ìœ¼ë©´ ìŠ¤ë§ˆíŠ¸ ì•Œê³ ë¦¬ì¦˜ (ê²¹ì¹˜ëŠ” ê¸€ì ì°¾ê¸°) ì‚¬ìš©
                    const distractorItems = getSmartDistractors(currentData, vocabularyData, 'kanji');
                    distractors = distractorItems.map(item => item.kanji);
                }

            } else {
                // [Step 2] í•œì -> ë°œìŒ
                elements.stepBadge.innerText = "Step 2";
                elements.stepBadge.className = "bg-emerald-100 text-emerald-700 text-xs font-bold px-3 py-1 rounded-full";
                elements.stepGuide.innerText = "ì˜¬ë°”ë¥¸ ë°œìŒ(ìš”ë¯¸ê°€ë‚˜)ì€?";

                // ì§ˆë¬¸: í•œì (ë°©ê¸ˆ ë§ì¶˜ ê²ƒ)
                elements.questionText.innerText = currentData.kanji;
                elements.questionText.className = "text-6xl font-bold text-indigo-600 mb-3 min-h-[3.5rem] flex items-center justify-center";

                correctAnswer = currentData.kana;

                if (currentData.wrongKanas && currentData.wrongKanas.length > 0) {
                    distractors = shuffleArray(currentData.wrongKanas).slice(0, 3);
                } else {
                    const distractorItems = getSmartDistractors(currentData, vocabularyData, 'reading');
                    distractors = distractorItems.map(item => item.kana);
                }
            }

            // ì •ë‹µ + ì˜¤ë‹µ ì„ê¸°
            const options = shuffleArray([correctAnswer, ...distractors]);

            // ë²„íŠ¼ ìƒì„±
            options.forEach(option => {
                const btn = document.createElement('button');
                btn.className = "choice-btn w-full bg-white border-2 border-gray-200 hover:border-indigo-500 hover:bg-indigo-50 text-gray-700 font-bold py-4 rounded-xl text-xl shadow-sm whitespace-normal break-keep h-full";
                btn.innerText = option;
                btn.onclick = () => checkAnswer(btn, option === correctAnswer, correctAnswer);
                elements.choicesContainer.appendChild(btn);
            });
        }

        function checkAnswer(btnElement, isCorrect, correctAnswerText) {
            if (isProcessing) return;
            isProcessing = true;

            const currentData = quizList[currentIndex];

            if (isCorrect) {
                // ì •ë‹µ ì²˜ë¦¬
                btnElement.className = "choice-btn w-full bg-indigo-500 border-2 border-indigo-600 text-white font-bold py-4 rounded-xl text-xl shadow-md"; 
                
                if (currentStep === 'kanji') {
                    // í•œì ë§ì¶¤ -> ë°œìŒìœ¼ë¡œ ì´ë™
                    elements.feedback.className = "text-indigo-600";
                    elements.feedback.innerText = "ì •ë‹µ! â­• ë°œìŒë„ ë§ì¶°ë³´ì„¸ìš”.";
                    setTimeout(() => {
                        currentStep = 'reading';
                        renderChoices();
                        isProcessing = false;
                    }, 600); 
                } else {
                    // ë°œìŒê¹Œì§€ ë§ì¶¤ -> ì ìˆ˜ íšë“ & ë‹¤ìŒ ë¬¸ì œ
                    score++;
                    elements.feedback.className = "text-emerald-600";
                    elements.feedback.innerText = "ì™„ë²½í•©ë‹ˆë‹¤! â­•";
                    setTimeout(() => {
                        nextQuestion();
                    }, 600);
                }

            } else {
                // ì˜¤ë‹µ ì²˜ë¦¬
                btnElement.className = "choice-btn w-full bg-red-500 border-2 border-red-600 text-white font-bold py-4 rounded-xl text-xl shadow-md"; 
                addIncorrectWord(currentData);

                // ì •ë‹µ ë²„íŠ¼ í‘œì‹œ
                const buttons = elements.choicesContainer.getElementsByTagName('button');
                for (let btn of buttons) {
                    if (btn.innerText === correctAnswerText) {
                        btn.className = "choice-btn w-full bg-indigo-500 border-2 border-indigo-600 text-white font-bold py-4 rounded-xl text-xl shadow-md opacity-70";
                    }
                }

                elements.feedback.className = "text-red-500";
                
                if (currentStep === 'kanji') {
                    elements.feedback.innerText = `ì˜¤ë‹µ! âŒ ì •ë‹µì€ [${currentData.kanji}] ì…ë‹ˆë‹¤.`;
                } else {
                    elements.feedback.innerText = `ì˜¤ë‹µ! âŒ ì •ë‹µì€ [${currentData.kana}] ì…ë‹ˆë‹¤.`;
                }

                setTimeout(() => {
                    if (currentStep === 'kanji') {
                        // í•œì í‹€ë ¤ë„ ë°œìŒ í€´ì¦ˆ ê¸°íšŒ ì¤Œ (í•™ìŠµ íš¨ê³¼)
                        currentStep = 'reading';
                        renderChoices();
                        isProcessing = false;
                    } else {
                        nextQuestion();
                    }
                }, 2000); // ì˜¤ë‹µ í™•ì¸ ì‹œê°„ ë„‰ë„‰íˆ
            }
        }

        function addIncorrectWord(wordObj) {
            if (!incorrectList.includes(wordObj)) {
                incorrectList.push(wordObj);
            }
        }

        function nextQuestion() {
            currentIndex++;
            if (currentIndex < quizList.length) {
                loadQuestion();
            } else {
                showResult();
            }
        }

        function showResult() {
            elements.quizContainer.classList.add('hidden');
            elements.resultContainer.classList.remove('hidden');
            elements.finalScore.innerText = score + " / " + quizList.length;
            elements.progressBar.style.width = '100%';

            if (incorrectList.length > 0) {
                elements.reviewSection.classList.remove('hidden');
                elements.wrongCount.innerText = incorrectList.length;
            } else {
                elements.reviewSection.classList.add('hidden');
                if(isReviewMode) {
                    elements.finalScore.innerText += " (ë³µìŠµ ì™„ë£Œ!)";
                }
            }
        }

        // ì´ˆê¸° ì‹¤í–‰
        if (typeof vocabularyData !== 'undefined' && vocabularyData.length > 0) {
            initQuiz();
        } else {
            alert("ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.");
        }
    </script>
</body>
</html>
```
