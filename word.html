import random
import os

# --- ì˜ë‹¨ì–´ì™€ í•œêµ­ì–´ ì˜ë¯¸ ì •ì˜ ---
# í€´ì¦ˆì— ì‚¬ìš©í•  ë‹¨ì–´ì™€ ì •í™•í•œ í•œêµ­ì–´ ì˜ë¯¸ë¥¼ ë§¤ì¹­í•©ë‹ˆë‹¤.
vocabulary_korean = {
    'gadget': 'ì‘ì€ ê¸°ê³„ ì¥ì¹˜, ë„êµ¬ (ì „ì ê¸°ê¸°)',
    'migrating': 'ì´ë™í•˜ëŠ”, ì´ì£¼í•˜ëŠ”',
    'in accordance with': '~ì— ë”°ë¼ì„œ, ~ì— ë¶€í•©í•˜ì—¬',
    'consist of': '~ìœ¼ë¡œ êµ¬ì„±ë˜ë‹¤, ì´ë£¨ì–´ì ¸ ìˆë‹¤',
    'substantial': 'ìƒë‹¹í•œ, ì‹¤ì§ˆì ì¸, ì¤‘ìš”í•œ',
    'composed of': '~ìœ¼ë¡œ êµ¬ì„±ëœ, ì´ë£¨ì–´ì§„',
    'Census Bureau': 'ì¸êµ¬ ì¡°ì‚¬êµ­ (ì£¼ë¡œ ë¯¸êµ­)',
    'convert': 'ë³€í™˜í•˜ë‹¤, ì „í™˜í•˜ë‹¤, ê°œì¡°í•˜ë‹¤',
    'complete': 'ì™„ë£Œí•˜ë‹¤, ì™„ì„±í•˜ë‹¤; ì™„ì „í•œ',
    'refer to': '~ì„ ì–¸ê¸‰í•˜ë‹¤, ì°¸ê³ í•˜ë‹¤, ì§€ì¹­í•˜ë‹¤',
    'enable': 'ê°€ëŠ¥í•˜ê²Œ í•˜ë‹¤, í•  ìˆ˜ ìˆê²Œ í•˜ë‹¤',
    'manipulate': 'ì¡°ì‘í•˜ë‹¤, ë‹¤ë£¨ë‹¤',
    'intervention': 'ê°œì…, ê°„ì„­, ì¤‘ì¬',
    'ubiquitous': 'ì–´ë””ì—ë‚˜ ìˆëŠ”, ë§¤ìš° í”í•œ',
    'calm': 'ì¹¨ì°©í•œ, ì°¨ë¶„í•œ; ì§„ì •ì‹œí‚¤ë‹¤',
    'expansion': 'í™•ëŒ€, í™•ì¥, íŒ½ì°½',
    'peripheral': 'ì£¼ë³€ì˜, ì§€ì—½ì ì¸; ì£¼ë³€ ì¥ì¹˜ (ì»´í“¨í„°)',
    'ready to start': 'ì‹œì‘í•  ì¤€ë¹„ê°€ ëœ',
    'cool': 'ì‹œì›í•œ, ë©‹ì§„, ì¹¨ì°©í•œ',
    'prevail': 'ë§Œì—°í•˜ë‹¤, ìš°ì„¸í•˜ë‹¤, ì´ê¸°ë‹¤',
    'skeptic': 'íšŒì˜ë¡ ì, ì˜ì‹¬ ë§ì€ ì‚¬ëŒ',
    'day-to-day': 'ì¼ìƒì ì¸, ë§¤ì¼ì˜',
    'fundamental': 'ê·¼ë³¸ì ì¸, ê¸°ë³¸ì ì¸, ì£¼ìš”í•œ',
    'multitasking': 'ë‹¤ì¤‘ ì‘ì—… (ì—¬ëŸ¬ ì¼ì„ ë™ì‹œì— ì²˜ë¦¬í•˜ëŠ” ëŠ¥ë ¥)',
    'flexible': 'ìœ ì—°í•œ, ìœµí†µì„± ìˆëŠ”',
    'portability': 'íœ´ëŒ€ì„±, ì´ë™ì„±',
    'leading': 'ì„ ë‘ì˜, ì£¼ìš”í•œ, ì´ë„ëŠ”',
    'feature': 'íŠ¹ì§•, íŠ¹ìƒ‰, ê¸°ëŠ¥',
    'swipe': 'ë¬¸ì§€ë¥´ë‹¤, (í™”ë©´ì„) ì“¸ì–´ ë„˜ê¸°ë‹¤',
    'pinch': '(í™”ë©´ì„) ì§‘ê²Œì†ê°€ë½ê³¼ ì—„ì§€ì†ê°€ë½ìœ¼ë¡œ ì˜¤ë¯€ë¦¬ê±°ë‚˜ í¼ì¹˜ë‹¤',
    'compatibility': 'í˜¸í™˜ì„±, ì–‘ë¦½ì„±',
    'entrepreneur': 'ì‚¬ì—…ê°€, ê¸°ì—…ê°€',
    'cofounder': 'ê³µë™ ì°½ì—…ì',
    'manage': 'ê´€ë¦¬í•˜ë‹¤, ê²½ì˜í•˜ë‹¤, ë‹¤ë£¨ë‹¤',
    'interact': 'ìƒí˜¸ ì‘ìš©í•˜ë‹¤, ì†Œí†µí•˜ë‹¤',
    'stuck': 'ê¼¼ì§ ëª»í•˜ëŠ”, ë§‰íŒ, ê°‡íŒ',
    'ringer': 'ë§¤ìš° í¡ì‚¬í•œ ì‚¬ëŒ/ë¬¼ê±´; ëŒ€ë¦¬ ì„ ìˆ˜',
    'goof up': 'ì‹¤ìˆ˜í•˜ë‹¤, ë§ì¹˜ë‹¤ (êµ¬ì–´ì²´)',
    'screw up': 'ë§ì¹˜ë‹¤, ì—‰ë§ìœ¼ë¡œ ë§Œë“¤ë‹¤ (êµ¬ì–´ì²´)',
    'substitute': 'ëŒ€ìš©í’ˆ, ëŒ€ë¦¬ì¸; ëŒ€ì²´í•˜ë‹¤',
    'regardless of': '~ì— ìƒê´€ì—†ì´, ê´€ê³„ì—†ì´',
    'lend itself to': '~ì— ì í•©í•˜ë‹¤, ~í•˜ê¸° ì‰½ë‹¤',
    'readable': 'ì½ê¸° ì‰¬ìš´, ë…í•´ë ¥ì´ ì¢‹ì€',
    'a variety of': 'ë‹¤ì–‘í•œ ì¢…ë¥˜ì˜, ì—¬ëŸ¬ ê°€ì§€ì˜',
    'inextricably': 'ë¶ˆê°€ë¶„í•˜ê²Œ, ë–¼ë ¤ì•¼ ë—„ ìˆ˜ ì—†ê²Œ',
    'predecessor': 'ì „ì„ì, ì„ ì„ì; ì´ì „ ëª¨ë¸/ê²ƒ',
    'burgeon': 'ê¸‰ì„±ì¥í•˜ë‹¤, ì‹¹íŠ¸ë‹¤, ë²ˆì°½í•˜ë‹¤',
    'handheld': 'ì†ì— ë“¤ê³  ì“°ëŠ”, íœ´ëŒ€ìš©ì˜',
    'compete with': '~ì™€ ê²½ìŸí•˜ë‹¤',
    'critic': 'ë¹„í‰ê°€, í‰ë¡ ê°€',
    'productivity': 'ìƒì‚°ì„±',
    'procedure': 'ì ˆì°¨, ê³¼ì •, ìˆœì„œ',
    'generalize': 'ì¼ë°˜í™”í•˜ë‹¤, ë³´í¸í™”í•˜ë‹¤',
    'corrupt': 'ë¶€íŒ¨í•œ, íƒ€ë½í•œ; ì†ìƒì‹œí‚¤ë‹¤',
    'inheritance': 'ìƒì†, ìœ ì „',
    'relevant': 'ê´€ë ¨ëœ, ì ì ˆí•œ, íƒ€ë‹¹í•œ',
    'based on': '~ì— ê·¼ê±°í•˜ì—¬, ~ì„ ë°”íƒ•ìœ¼ë¡œ',
    'install': 'ì„¤ì¹˜í•˜ë‹¤, ì¥ì¹˜í•˜ë‹¤',
    'regret': 'í›„íšŒí•˜ë‹¤, ìœ ê°ìœ¼ë¡œ ìƒê°í•˜ë‹¤',
    'issue': 'ë¬¸ì œ, ìŸì ; ë°œí–‰í•˜ë‹¤',
    'immediate': 'ì¦‰ê°ì ì¸, ë‹¹ë©´í•œ, ê³§ë°”ë¡œì˜',
}

def clear_screen():
    """ì½˜ì†” í™”ë©´ì„ ì§€ì›ë‹ˆë‹¤."""
    # For Windows
    if os.name == 'nt':
        os.system('cls')
    # For Unix/Linux/Mac
    else:
        os.system('clear')

def run_quiz():
    """ë©”ì¸ ë‹¨ì–´ ì˜ë¯¸ ë§ì¶”ê¸° í€´ì¦ˆ ê²Œì„ì„ ì‹¤í–‰í•©ë‹ˆë‹¤."""
    words = list(vocabulary_korean.keys())
    score = 0
    total_questions = len(words)

    clear_screen()
    print("ğŸ§  ì˜ë‹¨ì–´ í•œêµ­ì–´ ì˜ë¯¸ ë§ì¶”ê¸° í€´ì¦ˆ! ğŸ“š")
    print("-----------------------------------------------------")
    input("ì‹œì‘í•˜ë ¤ë©´ Enter í‚¤ë¥¼ ëˆ„ë¥´ì„¸ìš”...")
    clear_screen()

    # í€´ì¦ˆì— ì‚¬ìš©í•  ë‹¨ì–´ë¥¼ ì„ìŠµë‹ˆë‹¤.
    quiz_words = words[:]
    random.shuffle(quiz_words)

    for i, word in enumerate(quiz_words):
        correct_definition = vocabulary_korean[word]
        
        # 3ê°œì˜ ì˜¤ë‹µì„ ì„ íƒí•©ë‹ˆë‹¤.
        all_definitions = list(vocabulary_korean.values())
        # ì •ë‹µì„ ì œì™¸í•˜ê³  ì˜¤ë‹µ í›„ë³´ ëª©ë¡ì„ ë§Œë“­ë‹ˆë‹¤.
        if correct_definition in all_definitions:
             all_definitions.remove(correct_definition)
        
        # ì˜¤ë‹µì´ 3ê°œ ë¯¸ë§Œì¼ ê²½ìš°ë¥¼ ëŒ€ë¹„í•˜ì—¬ ì²˜ë¦¬í•©ë‹ˆë‹¤.
        num_distractors = 3
        if len(all_definitions) >= num_distractors:
            distractors = random.sample(all_definitions, num_distractors)
        else:
            # ë‹¨ì–´ê°€ ë§ìœ¼ë¯€ë¡œ ì´ ê²½ìš°ëŠ” ê±°ì˜ ì—†ì§€ë§Œ, ì•ˆì „ì„ ìœ„í•´ ì²˜ë¦¬
            distractors = all_definitions
            while len(distractors) < num_distractors:
                distractors.append(f"ì˜¤ë‹µ ë³´ê¸° {len(distractors) + 1}")

        
        options = [correct_definition] + distractors
        random.shuffle(options)
        
        # ì„ì¸ ë³´ê¸°ì—ì„œ ì •ë‹µì˜ ì¸ë±ìŠ¤ë¥¼ ì°¾ìŠµë‹ˆë‹¤.
        correct_index = options.index(correct_definition)
        
        # ë¬¸ì œ ì œì‹œ
        clear_screen()
        print(f"--- ë¬¸ì œ {i+1} / {total_questions} ---")
        print(f"\në‹¤ìŒ ì˜ë‹¨ì–´ì˜ ì •í™•í•œ í•œêµ­ì–´ ì˜ë¯¸ëŠ” ë¬´ì—‡ì¼ê¹Œìš”? : '{word.upper()}'\n")
        
        # ë³´ê¸° ì¶œë ¥
        for j, option in enumerate(options):
            # ì‚¬ìš©ìì—ê²ŒëŠ” 1ë²ˆë¶€í„° ë³´ì—¬ì¤ë‹ˆë‹¤.
            print(f"  {j+1}. {option}")
        
        # ì‚¬ìš©ì ì…ë ¥ ë°›ê¸°
        while True:
            try:
                user_choice = input("\nì„ íƒì§€ë¥¼ ì…ë ¥í•˜ì„¸ìš” (1, 2, 3 ë˜ëŠ” 4): ")
                choice_number = int(user_choice)
                if 1 <= choice_number <= len(options):
                    break
                else:
                    print(f"ğŸš« ì˜ëª»ëœ ì„ íƒì…ë‹ˆë‹¤. 1ì—ì„œ {len(options)} ì‚¬ì´ì˜ ìˆ«ìë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.")
            except ValueError:
                print("ğŸš« ì˜ëª»ëœ ì…ë ¥ì…ë‹ˆë‹¤. ìˆ«ìë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.")
        
        # ì •ë‹µ í™•ì¸
        if choice_number == correct_index + 1:
            score += 1
            print("\nâœ… ì •ë‹µì…ë‹ˆë‹¤! ë©‹ì ¸ìš”.")
        else:
            print(f"\nâŒ ì˜¤ë‹µì…ë‹ˆë‹¤. ì •ë‹µì€ {correct_index + 1}ë²ˆ ì…ë‹ˆë‹¤.")
            print(f"   ì •ë‹µ ì˜ë¯¸: {correct_definition}")
            
        input("\nê³„ì†í•˜ë ¤ë©´ Enter í‚¤ë¥¼ ëˆ„ë¥´ì„¸ìš”...")

    # --- í€´ì¦ˆ ê²°ê³¼ ---
    clear_screen()
    print("ğŸŒŸ í€´ì¦ˆ ì™„ë£Œ! ğŸŒŸ")
    print("-----------------------------------------------------")
    print(f"ë‹¹ì‹ ì˜ ìµœì¢… ì ìˆ˜ëŠ”: {total_questions}ì  ë§Œì ì— {score}ì  ì…ë‹ˆë‹¤.")
    if score == total_questions:
        print("ğŸ¥³ ì™„ë²½í•œ ì ìˆ˜ì…ë‹ˆë‹¤! ì–´íœ˜ë ¥ì´ ëŒ€ë‹¨í•˜ì‹œë„¤ìš”!")
    elif score >= total_questions * 0.75:
        print("ğŸ‘ ì•„ì£¼ í›Œë¥­í•©ë‹ˆë‹¤! ëŒ€ë¶€ë¶„ì˜ ë‹¨ì–´ë¥¼ ì•Œê³  ê³„ì‹œë„¤ìš”.")
    else:
        print("ì¡°ê¸ˆ ë” ê³µë¶€í•˜ë©´ ì¢‹ì„ ê²ƒ ê°™ì•„ìš”! ë°˜ë³µì´ ì¤‘ìš”í•©ë‹ˆë‹¤.")
    print("-----------------------------------------------------")

if __name__ == "__main__":
    run_quiz()
