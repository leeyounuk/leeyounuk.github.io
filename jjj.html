<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì˜¤ë…¸ë§ˆí† í˜ ëœ» ë³´ê³  ì“°ê¸°</title>
    <style>
        body { font-family: 'Helvetica Neue', Arial, 'Hiragino Kaku Gothic ProN', 'Meiryo', sans-serif; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; background-color: #f0f2f5; }
        .quiz-container { background: white; padding: 2rem 3rem; border-radius: 16px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); max-width: 600px; width: 90%; text-align: center; }
        h1 { color: #333; font-size: 1.8rem; margin-bottom: 1rem; }
        .score-board { display: flex; justify-content: space-between; margin-bottom: 1.5rem; color: #7f8c8d; font-size: 0.95rem; }
        .question-box { background: #eef2ff; padding: 1.5rem; border-radius: 12px; margin-bottom: 1.5rem; min-height: 80px; display: flex; flex-direction: column; justify-content: center; align-items: center; }
        .question-label { font-size: 0.9rem; color: #5a67d8; margin-bottom: 0.5rem; font-weight: bold; }
        .question-text { font-size: 1.3rem; font-weight: bold; line-height: 1.4; color: #2c3e50; word-break: keep-all; }
        
        /* ì…ë ¥ í•„ë“œ ìŠ¤íƒ€ì¼ */
        input[type="text"] { width: 100%; padding: 14px; font-size: 1.2rem; border: 2px solid #dee2e6; border-radius: 8px; margin-bottom: 1rem; outline: none; text-align: center; box-sizing: border-box; transition: border-color 0.3s; }
        input[type="text"]:focus { border-color: #5a67d8; }
        
        /* ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .btn-submit, .btn-next { width: 100%; padding: 14px; font-size: 1.1rem; border: none; border-radius: 8px; cursor: pointer; transition: 0.2s; font-weight: bold; }
        .btn-submit { background: #5a67d8; color: white; }
        .btn-submit:hover { background: #434190; }
        .btn-next { background: #48bb78; color: white; margin-top: 1rem; display: none; }
        .btn-next:hover { background: #38a169; }
        .btn-review { background: #ed8936; color: white; }
        .btn-review:hover { background: #dd6b20; }

        /* í”¼ë“œë°± ìŠ¤íƒ€ì¼ */
        .feedback { margin: 1rem 0; font-size: 1.1rem; min-height: 1.5em; }
        .correct { color: #27ae60; font-weight: bold; }
        .wrong { color: #c0392b; font-weight: bold; }
        .correct-answer-text { color: #e74c3c; font-weight: bold; }
    </style>
</head>
<body>

<div class="quiz-container">
    <h1>ì˜¤ë…¸ë§ˆí† í˜ ëœ» ì“°ê¸°</h1>
    <div class="score-board">
        <span id="mode-indicator">ëª¨ë“œ: ê¸°ë³¸ í•™ìŠµ</span>
        <span>ì§„í–‰: <span id="current-count">0</span> / <span id="total-count">0</span></span>
    </div>

    <div class="question-box">
        <div class="question-label">ì˜ë¯¸ (Meaning)</div>
        <div class="question-text" id="question">ë¬¸ì œë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>
    </div>

    <input type="text" id="answerInput" placeholder="íˆë¼ê°€ë‚˜/ê°€íƒ€ì¹´ë‚˜ë¡œ ì…ë ¥í•˜ì„¸ìš”" autocomplete="off">
    <button class="btn-submit" id="submitBtn" onclick="checkAnswer()">ì •ë‹µ í™•ì¸</button>
    
    <div class="feedback" id="feedback"></div>
    <button class="btn-next" id="nextBtn" onclick="nextQuestion()">ë‹¤ìŒ ë¬¸ì œ â¡</button>
</div>

<script>
    // ì œê³µí•´ì£¼ì‹  ë°ì´í„°
    const rawData = [
        { q: "é ­ã®ä¸­ã§å¤§ããªéŸ³ãŒã™ã‚‹ã‚ˆã†ãªå¼·ã„ç—›ã¿", a: "ã‚¬ãƒ³ã‚¬ãƒ³" },
        { q: "è„ˆæ‹ã«åˆã‚ã›ã¦ç¹°ã‚Šè¿”ã™æ­¯ã‚„å‚·ã®ç—›ã¿", a: "ãšããšã" },
        { q: "ãŠè…¹ã‚„èƒƒã‚’ç´°ã„é‡ã§åˆºã•ã‚ŒãŸã‚ˆã†ãªç—›ã¿", a: "ãã‚Šãã‚Š" },
        { q: "è¾›ã•ã‚„æ—¥ç„¼ã‘ã€ã™ã‚Šå‚·ãªã©ã®çš®è†šã®ç—›ã¿", a: "ã²ã‚Šã²ã‚Š" },
        { q: "èƒƒãŒæ°—æŒã¡æ‚ªãã€åããã†ãªæ„Ÿã˜", a: "ã‚€ã‹ã‚€ã‹" },
        { q: "è»½ã„ã›ããŒã€ä½•å›ã‚‚ç¶šã‘ã¦å‡ºã‚‹éŸ³", a: "ã“ã‚“ã“ã‚“" },
        { q: "å¼·ãä½•å›ã‚‚ã›ãã‚’ã™ã‚‹ã¨ãã®éŸ³", a: "ã”ã»ã”ã»" },
        { q: "å¤§ããªãã—ã‚ƒã¿ã‚’ã™ã‚‹ã¨ãã®éŸ³", a: "ã¯ãã—ã‚‡ã‚“" },
        { q: "ä½“ã®å†…å´ã‹ã‚‰æ€¥ã«å†·ãŸããªã‚‹æ„Ÿã˜", a: "ãããã" },
        { q: "å¯’ã•ã‚„æ€–ã•ã§ã€ä½“ãŒç´°ã‹ãéœ‡ãˆã‚‹æ§˜å­", a: "ã¶ã‚‹ã¶ã‚‹" },
        { q: "å±ãªã£ã‹ã—ãã¦ã€è¦‹ã¦ã„ã‚‰ã‚Œãªã„æ§˜å­", a: "ã¯ã‚‰ã¯ã‚‰" },
        { q: "ä½•ã‹ãŒæ°—ã«ãªã£ã¦è½ã¡ç€ã‹ãªã„æ§˜å­", a: "ãã‚ãã‚" },
        { q: "è‡ªä¿¡ãŒãªãã¦ã€ä¸å®‰ãã†ãªæ§˜å­", a: "ãŠã©ãŠã©" },
        { q: "ç¬é–“çš„ã«å±é™ºã‚„ææ€–ã‚’æ„Ÿã˜ã‚‹æ§˜å­", a: "ã²ã‚„ã‚Š" },
        { q: "æ€–ãã¦ã€å¿ƒé…ã‚„ç·Šå¼µãŒç¶šã„ã¦ã„ã‚‹æ§˜å­", a: "ã³ãã³ã" },
        { q: "æœŸå¾…ã¨é•ã£ã¦ã€æ®‹å¿µã«æ€ã£ã¦ã„ã‚‹æ§˜å­", a: "ãŒã£ã‹ã‚Š" },
        { q: "ä½•ã‹æ‚ªã„ã“ã¨ãŒã‚ã£ã¦ã€å…ƒæ°—ãªã„æ§˜å­", a: "ã—ã‚‡ã‚“ã¼ã‚Š" },
        { q: "åŒã˜ã“ã¨ãŒç¶šãã€å«Œã«æ„Ÿã˜ã¦ã„ã‚‹æ§˜å­", a: "ã†ã‚“ã–ã‚Š" },
        { q: "æ€¥ã«æ°—ãŒã¤ã„ã¦ã€é©šã„ã¦ã„ã‚‹æ§˜å­", a: "ã¯ã£ã¨" },
        { q: "ä½•ã‹ã®ç†ç”±ã§æ°—åˆ†ãŒã™ã£ãã‚Šã—ãªã„æ§˜å­", a: "ã‚‚ã‚„ã‚‚ã‚„" },
        { q: "é€Ÿãã—ã£ã‹ã‚Šã€è»½ã‚„ã‹ã«æ­©ãæ§˜å­", a: "ã™ãŸã™ãŸ" },
        { q: "è¶³éŸ³ãŒå¤§ããã€é‡ãæ­©ãæ§˜å­", a: "ã©ãŸã©ãŸ" },
        { q: "å…ƒæ°—ãŒãªãã€ã‚†ã£ãã‚Šæ­©ãæ§˜å­", a: "ã¨ã¼ã¨ã¼" },
        { q: "èµ¤ã¡ã‚ƒã‚“ã‚„å°ã•ã„å­ãŒä¸å®‰å®šã«æ­©ãæ§˜å­", a: "ã‚ˆã¡ã‚ˆã¡" },
        { q: "ä½“ãŒå®‰å®šã›ãšã€ä»Šã«ã‚‚å€’ã‚Œãã†ã«æ­©ãæ§˜å­", a: "ã‚ˆã‚ã‚ˆã‚" },
        { q: "å‹•ããŒã¨ã¦ã‚‚é…ã„æ§˜å­", a: "ã®ã‚ã®ã‚" },
        { q: "å‹•ããŒé€Ÿãã€å…ƒæ°—ã§ã€ç„¡é§„ãŒãªã„æ§˜å­", a: "ãã³ãã³" },
        { q: "æ€¥ã«ã€å®Œå…¨ã«æ­¢ã¾ã‚‹æ§˜å­", a: "ã´ãŸã‚Š" },
        { q: "æ»‘ã£ãŸã‚Šãƒãƒ©ãƒ³ã‚¹ã‚’å¤±ã£ã¦è»¢ã¶æ§˜å­", a: "ã™ã¦ã‚“" },
        { q: "å‹¢ã„ã‚ˆãã€éŸ³ã‚’ç«‹ã¦ã¦å€’ã‚Œã‚‹æ§˜å­", a: "ã°ãŸã£" }
    ];

    let quizList = [];
    let wrongAnswers = [];
    let currentIdx = 0;
    let isReviewMode = false;

    function shuffleArray(array) {
        return array.sort(() => Math.random() - 0.5);
    }

    function initQuiz() {
        quizList = shuffleArray([...rawData]);
        wrongAnswers = [];
        currentIdx = 0;
        isReviewMode = false;
        document.getElementById('mode-indicator').innerText = "ëª¨ë“œ: ê¸°ë³¸ í•™ìŠµ";
        resetUI();
        loadQuestion();
    }

    function loadQuestion() {
        const item = quizList[currentIdx];
        document.getElementById('question').innerText = item.q;
        document.getElementById('current-count').innerText = currentIdx + 1;
        document.getElementById('total-count').innerText = quizList.length;
        document.getElementById('answerInput').value = '';
        document.getElementById('answerInput').focus();
    }

    function checkAnswer() {
        const input = document.getElementById('answerInput').value.trim();
        if (input === "") return; // ì…ë ¥ê°’ì´ ì—†ìœ¼ë©´ ë°˜ì‘ ì—†ìŒ

        const correct = quizList[currentIdx].a;
        const feedback = document.getElementById('feedback');
        const submitBtn = document.getElementById('submitBtn');
        const nextBtn = document.getElementById('nextBtn');

        document.getElementById('answerInput').disabled = true;
        submitBtn.style.display = 'none';

        if (input === correct) {
            feedback.innerHTML = "<span class='correct'>âœ… ì •ë‹µì…ë‹ˆë‹¤!</span>";
        } else {
            feedback.innerHTML = `<span class='wrong'>âŒ ì˜¤ë‹µ!</span> ì •ë‹µì€ <span class='correct-answer-text'>${correct}</span> ì…ë‹ˆë‹¤.`;
            // ë³µìŠµ ëª©ë¡ì— ì¶”ê°€ (ì¤‘ë³µ ë°©ì§€)
            if (!wrongAnswers.some(w => w.a === correct)) {
                wrongAnswers.push(quizList[currentIdx]);
            }
        }
        nextBtn.style.display = 'block';
        nextBtn.focus();
    }

    function nextQuestion() {
        currentIdx++;
        if (currentIdx < quizList.length) {
            resetUI();
            loadQuestion();
        } else {
            finishGame();
        }
    }

    function resetUI() {
        document.getElementById('feedback').innerHTML = '';
        document.getElementById('answerInput').disabled = false;
        document.getElementById('submitBtn').style.display = 'block';
        document.getElementById('nextBtn').style.display = 'none';
        document.getElementById('submitBtn').innerText = "ì •ë‹µ í™•ì¸";
        document.getElementById('submitBtn').classList.remove('btn-review');
        document.getElementById('submitBtn').onclick = checkAnswer;
    }

    function finishGame() {
        document.getElementById('question-box').style.display = 'none';
        document.getElementById('answerInput').style.display = 'none';
        document.getElementById('nextBtn').style.display = 'none';

        const feedback = document.getElementById('feedback');
        const submitBtn = document.getElementById('submitBtn');

        if (wrongAnswers.length > 0) {
            feedback.innerHTML = `í•™ìŠµ ì¢…ë£Œ! <br>ì´ ${wrongAnswers.length}ê°œì˜ ì˜¤ë‹µì´ ìˆìŠµë‹ˆë‹¤.`;
            submitBtn.innerText = "ğŸ”„ í‹€ë¦° ë¬¸ì œ ë³µìŠµí•˜ê¸°";
            submitBtn.classList.add('btn-review');
            submitBtn.style.display = 'block';
            submitBtn.onclick = startReview;
        } else {
            feedback.innerHTML = `ğŸ‰ ì¶•í•˜í•©ë‹ˆë‹¤! ëª¨ë“  ë¬¸ì œë¥¼ ë§íˆì…¨ìŠµë‹ˆë‹¤!`;
            submitBtn.innerText = "ì²˜ìŒë¶€í„° ë‹¤ì‹œ í•˜ê¸°";
            submitBtn.style.display = 'block';
            submitBtn.onclick = initQuiz;
        }
    }

    function startReview() {
        quizList = [...wrongAnswers];
        wrongAnswers = []; // ë³µìŠµ ì¤‘ í‹€ë¦° ê²ƒì„ ë‹¤ì‹œ ë‹´ê¸° ìœ„í•´ ì´ˆê¸°í™”
        currentIdx = 0;
        isReviewMode = true;
        document.getElementById('mode-indicator').innerText = "ëª¨ë“œ: ğŸš¨ ì˜¤ë‹µ ë³µìŠµ";
        
        document.getElementById('question-box').style.display = 'flex';
        document.getElementById('answerInput').style.display = 'block';
        resetUI();
        loadQuestion();
    }

    // ì—”í„°í‚¤ ì…ë ¥ ì‹œ ì •ë‹µ í™•ì¸ ê¸°ëŠ¥
    document.getElementById('answerInput').addEventListener("keypress", function(event) {
        if (event.key === "Enter") {
            event.preventDefault();
            document.getElementById('submitBtn').click();
        }
    });

    initQuiz();
</script>
</body>
</html>
