<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì˜¤ë…¸ë§ˆí† í˜ ëœ» ë³´ê³  ì“°ê¸° (ë³µìŠµê°€ëŠ¥)</title>
    <style>
        body { font-family: 'Helvetica Neue', Arial, sans-serif; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; background-color: #f0f2f5; }
        .quiz-container { background: white; padding: 2rem; border-radius: 16px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); max-width: 600px; width: 90%; text-align: center; }
        h1 { color: #333; font-size: 1.5rem; margin-bottom: 1rem; }
        .info-bar { display: flex; justify-content: space-between; font-size: 0.9rem; color: #666; margin-bottom: 1rem; font-weight: bold; }
        
        .question-box { background: #eef2ff; padding: 1.5rem; border-radius: 12px; margin-bottom: 1.5rem; min-height: 80px; display: flex; flex-direction: column; justify-content: center; align-items: center; }
        .question-label { font-size: 0.85rem; color: #5a67d8; margin-bottom: 0.5rem; font-weight: bold; text-transform: uppercase; }
        .question-text { font-size: 1.2rem; font-weight: bold; line-height: 1.4; color: #2c3e50; word-break: keep-all; }
        
        input[type="text"] { width: 100%; padding: 12px; font-size: 1.1rem; border: 2px solid #dee2e6; border-radius: 8px; margin-bottom: 1rem; outline: none; text-align: center; box-sizing: border-box; }
        input[type="text"]:focus { border-color: #5a67d8; }
        
        .btn { width: 100%; padding: 12px; font-size: 1rem; border: none; border-radius: 8px; cursor: pointer; transition: 0.2s; font-weight: bold; margin-top: 5px; }
        .btn-check { background: #5a67d8; color: white; }
        .btn-check:hover { background: #434190; }
        .btn-next { background: #48bb78; color: white; display: none; }
        .btn-next:hover { background: #38a169; }
        .btn-review { background: #ed8936; color: white; display: none; } /* ì£¼í™©ìƒ‰ ë³µìŠµ ë²„íŠ¼ */
        
        .feedback { margin: 10px 0; font-size: 1rem; min-height: 1.5rem; }
        .correct { color: #27ae60; font-weight: bold; }
        .wrong { color: #c0392b; font-weight: bold; }

        /* ë³µìŠµ ëª¨ë“œì¼ ë•Œ ì•Œë¦¼ì°½ */
        .review-alert { background: #fff3cd; color: #856404; padding: 10px; border-radius: 8px; margin-bottom: 15px; display: none; font-size: 0.9rem; }
    </style>
</head>
<body>

<div class="quiz-container">
    <h1>ì˜¤ë…¸ë§ˆí† í˜ ì˜ë¯¸ ì“°ê¸°</h1>
    
    <div class="review-alert" id="reviewAlert">ğŸš¨ ì˜¤ë‹µ ë³µìŠµ ëª¨ë“œì…ë‹ˆë‹¤! í˜ë‚´ì„¸ìš”!</div>

    <div class="info-bar">
        <span id="progress">ë¬¸ì œ 1 / 30</span>
        <span id="score">ë‚¨ì€ ë¬¸ì œ: 30</span>
    </div>

    <div class="question-box">
        <div class="question-label">MEANING</div>
        <div class="question-text" id="question">ë¬¸ì œ ë¡œë”© ì¤‘...</div>
    </div>

    <input type="text" id="answerInput" placeholder="ì •ë‹µ ì…ë ¥ (íˆë¼ê°€ë‚˜)" autocomplete="off">
    
    <button class="btn btn-check" id="checkBtn" onclick="checkAnswer()">ì •ë‹µ í™•ì¸</button>
    <div class="feedback" id="feedback"></div>
    <button class="btn btn-next" id="nextBtn" onclick="nextQuestion()">ë‹¤ìŒ ë¬¸ì œ â¡</button>
    <button class="btn btn-review" id="reviewBtn" onclick="startReview()">â†º í‹€ë¦° ë¬¸ì œë§Œ ë³µìŠµí•˜ê¸°</button>
    <button class="btn btn-check" id="restartBtn" onclick="initQuiz()" style="display:none; background:#718096;">ì²˜ìŒë¶€í„° ë‹¤ì‹œ í•˜ê¸°</button>
</div>

<script>
    const rawData = [
        { q: "é ­ã®ä¸­ã§å¤§ããªéŸ³ãŒã™ã‚‹ã‚ˆã†ãªå¼·ã„ç—›ã¿", a: "ã‚¬ãƒ³ã‚¬ãƒ³" },
        { q: "è„ˆæ‹ã«åˆã‚ã›ã¦ç¹°ã‚Šè¿”ã™æ­¯ã‚„å‚·ã®ç—›ã¿", a: "ãšããšã" },
        { q: "ãŠè…¹ã‚„èƒƒã‚’ç´°ã„é‡ã§åˆºã•ã‚ŒãŸã‚ˆã†ãªç—›ã¿", a: "ãã‚Šãã‚Š" },
        { q: "è¾›ã•ã‚„æ—¥ç„¼ã‘ã€ã™ã‚Šå‚·ãªã©ã®çš®è†šã®ç—›ã¿", a: "ã²ã‚Šã²ã‚Š" },
        { q: "èƒƒãŒæ°—æŒã¡æ‚ªãã€åããã†ãªæ„Ÿã˜", a: "ã‚€ã‹ã‚€ã‹" },
        { q: "è»½ã„ã›ããŒã€ä½•å›ã‚‚ç¶šã‘ã¦å‡ºã‚‹éŸ³", a: "ã“ã‚“ã“ã‚“" },
        { q: "å¼·ãä½•å›ã‚‚ã›ãã‚’ã™ã‚‹ã¨ãã®éŸ³", a: "ã”ã»ã”ã»" },
        { q: "å¤§ããªãã—ã‚ƒã¿ã‚’ã™ã‚‹ã¨ãã®éŸ³", a: "ã¯ãã—ã‚‡ã‚“" },
        { q: "ä½“ã®å†…å´ã‹ã‚‰æ€¥ã«å†·ãŸããªã‚‹æ„Ÿã˜", a: "ãããã" },
        { q: "å¯’ã•ã‚„æ€–ã•ã§ã€ä½“ãŒç´°ã‹ãéœ‡ãˆã‚‹æ§˜å­", a: "ã¶ã‚‹ã¶ã‚‹" },
        { q: "å±ãªã£ã‹ã—ãã¦ã€è¦‹ã¦ã„ã‚‰ã‚Œãªã„æ§˜å­", a: "ã¯ã‚‰ã¯ã‚‰" },
        { q: "ä½•ã‹ãŒæ°—ã«ãªã£ã¦è½ã¡ç€ã‹ãªã„æ§˜å­", a: "ãã‚ãã‚" },
        { q: "è‡ªä¿¡ãŒãªãã¦ã€ä¸å®‰ãã†ãªæ§˜å­", a: "ãŠã©ãŠã©" },
        { q: "ç¬é–“çš„ã«å±é™ºã‚„ææ€–ã‚’æ„Ÿã˜ã‚‹æ§˜å­", a: "ã²ã‚„ã‚Š" },
        { q: "æ€–ãã¦ã€å¿ƒé…ã‚„ç·Šå¼µãŒç¶šã„ã¦ã„ã‚‹æ§˜å­", a: "ã³ãã³ã" },
        { q: "æœŸå¾…ã¨é•ã£ã¦ã€æ®‹å¿µã«æ€ã£ã¦ã„ã‚‹æ§˜å­", a: "ãŒã£ã‹ã‚Š" },
        { q: "ä½•ã‹æ‚ªã„ã“ã¨ãŒã‚ã£ã¦ã€å…ƒæ°—ãªã„æ§˜å­", a: "ã—ã‚‡ã‚“ã¼ã‚Š" },
        { q: "åŒã˜ã“ã¨ãŒç¶šãã€å«Œã«æ„Ÿã˜ã¦ã„ã‚‹æ§˜å­", a: "ã†ã‚“ã–ã‚Š" },
        { q: "æ€¥ã«æ°—ãŒã¤ã„ã¦ã€é©šã„ã¦ã„ã‚‹æ§˜å­", a: "ã¯ã£ã¨" },
        { q: "ä½•ã‹ã®ç†ç”±ã§æ°—åˆ†ãŒã™ã£ãã‚Šã—ãªã„æ§˜å­", a: "ã‚‚ã‚„ã‚‚ã‚„" },
        { q: "é€Ÿãã—ã£ã‹ã‚Šã€è»½ã‚„ã‹ã«æ­©ãæ§˜å­", a: "ã™ãŸã™ãŸ" },
        { q: "è¶³éŸ³ãŒå¤§ããã€é‡ãæ­©ãæ§˜å­", a: "ã©ãŸã©ãŸ" },
        { q: "å…ƒæ°—ãŒãªãã€ã‚†ã£ãã‚Šæ­©ãæ§˜å­", a: "ã¨ã¼ã¨ã¼" },
        { q: "èµ¤ã¡ã‚ƒã‚“ã‚„å°ã•ã„å­ãŒä¸å®‰å®šã«æ­©ãæ§˜å­", a: "ã‚ˆã¡ã‚ˆã¡" },
        { q: "ä½“ãŒå®‰å®šã›ãšã€ä»Šã«ã‚‚å€’ã‚Œãã†ã«æ­©ãæ§˜å­", a: "ã‚ˆã‚ã‚ˆã‚" },
        { q: "å‹•ããŒã¨ã¦ã‚‚é…ã„æ§˜å­", a: "ã®ã‚ã®ã‚" },
        { q: "å‹•ããŒé€Ÿãã€å…ƒæ°—ã§ã€ç„¡é§„ãŒãªã„æ§˜å­", a: "ãã³ãã³" },
        { q: "æ€¥ã«ã€å®Œå…¨ã«æ­¢ã¾ã‚‹æ§˜å­", a: "ã´ãŸã‚Š" },
        { q: "æ»‘ã£ãŸã‚Šãƒãƒ©ãƒ³ã‚¹ã‚’å¤±ã£ã¦è»¢ã¶æ§˜å­", a: "ã™ã¦ã‚“" },
        { q: "å‹¢ã„ã‚ˆãã€éŸ³ã‚’ç«‹ã¦ã¦å€’ã‚Œã‚‹æ§˜å­", a: "ã°ãŸã£" }
    ];

    let quizList = [];
    let wrongAnswers = [];
    let currentIndex = 0;

    // ë°°ì—´ ì„ê¸° í•¨ìˆ˜
    function shuffle(array) {
        return array.sort(() => Math.random() - 0.5);
    }

    function initQuiz() {
        // ì „ì²´ ë°ì´í„°ë¥¼ ë³µì‚¬í•´ì„œ ì„ìŒ
        quizList = shuffle([...rawData]);
        wrongAnswers = []; // ì˜¤ë‹µ ì´ˆê¸°í™”
        currentIndex = 0;
        
        resetUI();
        document.getElementById('reviewAlert').style.display = 'none';
        loadQuestion();
    }

    function loadQuestion() {
        const item = quizList[currentIndex];
        document.getElementById('question').innerText = item.q;
        document.getElementById('progress').innerText = `ë¬¸ì œ ${currentIndex + 1} / ${quizList.length}`;
        document.getElementById('score').innerText = `ë‚¨ì€ ë¬¸ì œ: ${quizList.length - currentIndex}`;
        
        const input = document.getElementById('answerInput');
        input.value = '';
        input.disabled = false;
        input.focus();
    }

    function checkAnswer() {
        const input = document.getElementById('answerInput');
        const userVal = input.value.trim();
        if(!userVal) return;

        const correctVal = quizList[currentIndex].a;
        const feedback = document.getElementById('feedback');
        
        input.disabled = true;
        document.getElementById('checkBtn').style.display = 'none';

        if(userVal === correctVal) {
            feedback.innerHTML = "<span class='correct'>âœ… ì •ë‹µ!</span>";
        } else {
            feedback.innerHTML = `<span class='wrong'>âŒ ì˜¤ë‹µ!</span> ì •ë‹µ: <strong>${correctVal}</strong>`;
            // ì˜¤ë‹µ ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€ (ì¤‘ë³µ ë°©ì§€)
            if (!wrongAnswers.includes(quizList[currentIndex])) {
                wrongAnswers.push(quizList[currentIndex]);
            }
        }

        document.getElementById('nextBtn').style.display = 'inline-block';
        document.getElementById('nextBtn').focus(); // ì—”í„°í‚¤ë¡œ ë°”ë¡œ ë„˜ì–´ê°€ê²Œ
    }

    function nextQuestion() {
        currentIndex++;
        document.getElementById('feedback').innerText = '';
        document.getElementById('checkBtn').style.display = 'inline-block';
        document.getElementById('nextBtn').style.display = 'none';

        if(currentIndex < quizList.length) {
            loadQuestion();
        } else {
            finishGame();
        }
    }

    function finishGame() {
        document.getElementById('question').innerText = "ëª¨ë“  ë¬¸ì œë¥¼ í’€ì—ˆìŠµë‹ˆë‹¤!";
        document.getElementById('answerInput').style.display = 'none';
        document.getElementById('checkBtn').style.display = 'none';
        
        const feedback = document.getElementById('feedback');
        
        if(wrongAnswers.length > 0) {
            feedback.innerHTML = `ìˆ˜ê³ í•˜ì…¨ìŠµë‹ˆë‹¤.<br>ì´ <strong>${wrongAnswers.length}</strong>ê°œì˜ ì˜¤ë‹µì´ ìˆìŠµë‹ˆë‹¤.`;
            document.getElementById('reviewBtn').style.display = 'inline-block';
        } else {
            feedback.innerHTML = `ğŸ‰ ëŒ€ë‹¨í•´ìš”! ëª¨ë“  ë¬¸ì œë¥¼ ë§íˆì…¨ìŠµë‹ˆë‹¤!`;
            document.getElementById('restartBtn').style.display = 'inline-block';
        }
    }

    function startReview() {
        // ì˜¤ë‹µ ë¦¬ìŠ¤íŠ¸ë¡œ í€´ì¦ˆ ë¦¬ìŠ¤íŠ¸ êµì²´
        quizList = shuffle([...wrongAnswers]);
        wrongAnswers = []; // ë³µìŠµí•˜ë©´ì„œ ë˜ í‹€ë¦¬ë©´ ë‹´ê¸° ìœ„í•´ ë¹„ì›€
        currentIndex = 0;

        resetUI();
        document.getElementById('reviewAlert').style.display = 'block';
        loadQuestion();
    }

    function resetUI() {
        document.getElementById('answerInput').style.display = 'inline-block';
        document.getElementById('checkBtn').style.display = 'inline-block';
        document.getElementById('reviewBtn').style.display = 'none';
        document.getElementById('restartBtn').style.display = 'none';
        document.getElementById('feedback').innerText = '';
    }

    // ì—”í„°í‚¤ ì²˜ë¦¬
    document.getElementById('answerInput').addEventListener("keypress", function(e) {
        if (e.key === "Enter") {
            e.preventDefault();
            document.getElementById('checkBtn').click();
        }
    });

    initQuiz();
</script>
</body>
</html>
