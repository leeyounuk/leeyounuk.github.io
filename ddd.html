<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>PHP 함수 퀴즈</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      max-width: 800px;
      margin: auto;
      padding: 20px;
      line-height: 1.6;
    }
    fieldset {
      margin-bottom: 15px;
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #ccc;
    }
    legend {
      font-weight: bold;
    }
    .result {
      margin-top: 20px;
      font-size: 1.2em;
    }
    .correct {
      color: green;
    }
    .wrong {
      color: red;
    }
    .summary {
      border-top: 1px solid #ccc;
      margin-top: 20px;
      padding-top: 10px;
    }
    button {
      padding: 10px 20px;
      font-size: 16px;
      margin-top: 10px;
      background-color: #4CAF50;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h1>PHP 함수 퀴즈</h1>
  <form id="quizForm">
    <!-- JavaScript가 문제를 자동으로 렌더링 -->
  </form>
  <div class="result" id="result"></div>

  <script>
   const questionsExplainToFunction = [
  ["문자열에 포함된 따옴표나 백슬래시를 이스케이프 처리합니다.", ["addslashes", "stripslashes", "trim", "explode"], 0],
  ["이스케이프된 문자열에서 이스케이프 문자를 제거합니다.", ["htmlspecialchars", "stripslashes", "ord", "stristr"], 1],
  ["HTML 특수 문자를 안전한 형태(엔티티)로 변환합니다.", ["strrev", "htmlspecialchars", "strtr", "strip_tags"], 1],
  ["줄바꿈 문자를 <br> 태그로 변환하여 HTML에서 줄바꿈이 보이도록 합니다.", ["nl2br", "strtolower", "strrchr", "implode"], 0],
  ["값을 화면에 출력합니다. 반환값이 없습니다.", ["print", "explode", "ord", "sprintf"], 0],
  ["값을 출력하지만 반환값이 1입니다.", ["echo", "print", "htmlspecialchars", "strrev"], 1],
  ["형식을 지정해 문자열을 생성하지만 출력하지 않고 반환합니다.", ["sprintf", "printf", "strtr", "ucfirst"], 0],
  ["형식을 지정해 문자열을 출력합니다.", ["printf", "trim", "ord", "implode"], 0],
  ["문자열을 특정 구분자로 나누어 배열로 반환합니다.", ["explode", "implode", "substr", "strtolower"], 0],
  ["배열의 요소들을 하나의 문자열로 결합합니다.", ["implode", "explode", "substr", "strrev"], 0],
  ["정규 표현식을 기준으로 문자열을 나눕니다.", ["split", "explode", "substr", "strtr"], 0],
  ["두 문자열을 비교합니다. 같으면 0을 반환합니다.", ["strcmp", "strstr", "strtr", "strpos"], 0],
  ["문자열의 일부분을 추출합니다.", ["substr", "strrev", "trim", "stristr"], 0],
  ["문자열에서 특정 문자열을 찾아 그 위치부터 끝까지 반환합니다.", ["strstr", "strrchr", "strtr", "implode"], 0],
  ["대소문자 구분 없이 특정 문자열을 찾아 반환합니다.", ["stristr", "substr", "strpos", "chr"], 0],
  ["문자열에서 특정 문자의 마지막 위치부터 끝까지 반환합니다.", ["strrchr", "substr", "strstr", "strrev"], 0],
  ["문자열에서 특정 부분 문자열의 처음 위치를 찾습니다.", ["strpos", "strcmp", "implode", "print"], 0],
  ["모든 문자를 소문자로 변환합니다.", ["strtolower", "ucfirst", "strtoupper", "strip_tags"], 0],
  ["모든 문자를 대문자로 변환합니다.", ["strtoupper", "strtolower", "ord", "strtr"], 0],
  ["문자열의 첫 글자만 대문자로 변환합니다.", ["ucfirst", "ucwords", "strtolower", "trim"], 0],
  ["문자열 내 각 단어의 첫 글자를 대문자로 변환합니다.", ["ucwords", "ucfirst", "strtolower", "strtoupper"], 0],
  ["문자열의 순서를 거꾸로 뒤집습니다.", ["strrev", "strtr", "substr", "print"], 0],
  ["문자열에서 특정 문자들을 다른 문자로 치환합니다.", ["strtr", "substr", "strstr", "implode"], 0],
  ["문자열 내 특정 단어를 다른 단어로 대체합니다.", ["str_replace", "strstr", "implode", "printf"], 0],
  ["문자열의 끝 부분 공백을 제거합니다.", ["chop", "trim", "strtr", "explode"], 0],
  ["문자열 양쪽 끝의 공백을 제거합니다.", ["trim", "chop", "strtolower", "print"], 0],
  ["문자의 ASCII 코드를 반환합니다.", ["ord", "chr", "strrev", "implode"], 0],
  ["ASCII 코드를 문자로 변환합니다.", ["chr", "ord", "ucfirst", "strtolower"], 0],
  ["HTML 태그를 제거합니다.", ["strip_tags", "htmlspecialchars", "strtr", "implode"], 0],
]; 0],

      // 설명을 듣고 함수명 고르기 (문제 31~40)
 ["addslashes()", ["이스케이프된 문자열에서 문자 제거", "문자열을 HTML 엔티티로 변환", "특수 문자 이스케이프", "문자열 정렬"], 2],
  ["stripslashes()", ["HTML 제거", "이스케이프 문자 제거", "배열 반환", "소문자 변환"], 1],
  ["htmlspecialchars()", ["대문자 변환", "HTML 태그 제거", "HTML 엔티티 변환", "문자열 결합"], 2],
  ["nl2br()", ["문자열 반전", "문자열 자르기", "줄바꿈을 <br>로 변환", "ASCII 반환"], 2],
  ["echo", ["조건문 처리", "값 출력", "문자열 연결", "정렬"], 1],
  ["print", ["값 출력 + 1 반환", "문자열 암호화", "문자열 자르기", "문자열 검색"], 0],
  ["sprintf()", ["정수 반환", "포맷된 문자열 출력", "포맷된 문자열 반환", "정규식 분리"], 2],
  ["printf()", ["포맷된 문자열 출력", "문자열 반환", "문자열 나누기", "HTML 제거"], 0],
  ["explode()", ["문자열 합치기", "문자열 자르기", "문자열을 배열로 나누기", "공백 제거"], 2],
  ["implode()", ["배열을 문자열로 결합", "문자열을 배열로", "정수 반환", "HTML 변환"], 0],
  ["split()", ["정규 표현식 기준 나눔", "문자열 출력", "HTML 제거", "문자열 연결"], 0],
  ["strcmp()", ["문자열 비교", "문자열 합치기", "HTML 제거", "태그 제거"], 0],
  ["substr()", ["문자열 자르기", "문자열 뒤집기", "문자열 치환", "배열 반환"], 0],
  ["strstr()", ["문자열 비교", "문자열 내 처음 위치부터 끝 반환", "문자열 연결", "정렬"], 1],
  ["stristr()", ["대소문자 무시 검색", "역순 검색", "정렬", "소문자 반환"], 0],
  ["strrchr()", ["처음 위치 반환", "마지막 문자 위치부터 반환", "정수 반환", "HTML 변환"], 1],
  ["strpos()", ["문자열 자르기", "처음 위치 반환", "HTML 제거", "문자열 치환"], 1],
  ["strtolower()", ["소문자 변환", "대문자 변환", "문자열 정렬", "문자열 자르기"], 0],
  ["strtoupper()", ["대문자 변환", "소문자 변환", "문자열 정렬", "문자열 비교"], 0],
  ["ucfirst()", ["문자열 전체 대문자", "문자열 전체 소문자", "첫 글자만 대문자", "끝 글자 대문자"], 2],
  ["ucwords()", ["모든 단어의 첫 글자 대문자", "모든 소문자", "전체 대문자", "문자열 치환"], 0],
  ["strrev()", ["문자열 역순", "문자열 정렬", "배열 반환", "문자열 출력"], 0],
  ["strtr()", ["문자열 비교", "문자 단위 치환", "정렬", "HTML 제거"], 1],
  ["str_replace()", ["문자열 치환", "문자열 출력", "문자열 결합", "문자열 역순"], 0],
  ["chop()", ["앞 공백 제거", "뒤 공백 제거", "전체 공백 제거", "태그 제거"], 1],
  ["trim()", ["양쪽 공백 제거", "중간 공백 제거", "전체 공백 제거", "태그 제거"], 0],
  ["ord()", ["ASCII 코드 반환", "문자열 출력", "배열 반환", "문자열 삭제"], 0],
  ["chr()", ["정수 → 문자 변환", "문자 → 정수 변환", "문자열 비교", "태그 제거"], 0],
  ["strip_tags()", ["HTML 태그 제거", "HTML 인코딩", "문자열 대체", "배열 변환"], 0],
];

    function renderQuiz() {
      const form = document.getElementById('quizForm');
      questions.forEach((q, idx) => {
        const fieldset = document.createElement('fieldset');
        const legend = document.createElement('legend');
        legend.innerHTML = `<strong>Q${idx + 1}</strong> ${q[0]}`;
        fieldset.appendChild(legend);

        q[1].forEach((option, optIdx) => {
          const label = document.createElement('label');
          const input = document.createElement('input');
          input.type = 'radio';
          input.name = `q${idx}`;
          input.value = optIdx;
          input.required = true;
          label.appendChild(input);
          label.innerHTML += ' ' + option;
          fieldset.appendChild(label);
          fieldset.appendChild(document.createElement('br'));
        });

        form.appendChild(fieldset);
      });

      const submit = document.createElement('button');
      submit.type = 'submit';
      submit.textContent = '제출하기';
      form.appendChild(submit);

      form.addEventListener('submit', function (e) {
        e.preventDefault();
        let score = 0;
        let output = "";
        questions.forEach((q, idx) => {
          const selected = form[`q${idx}`].value;
          const correct = q[2];
          const isCorrect = parseInt(selected) === correct;
          output += `<div><strong>Q${idx + 1}</strong>: ${isCorrect ? '<span class="correct">정답</span>' : '<span class="wrong">오답</span>'} - ${q[1][correct]}</div>`;
          if (isCorrect) score++;
        });

        output += `<div class="summary"><strong>총점:</strong> ${score} / ${questions.length}</div>`;
        document.getElementById('result').innerHTML = output;
        window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
      });
    }

    renderQuiz();
  </script>
</body>
</html>
